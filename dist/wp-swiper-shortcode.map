{"version":3,"sources":["node_modules/dom7/dist/dom7.modular.js","node_modules/swiper/dist/js/swiper.esm.bundle.js","swiper-shortcode.js"],"names":["Dom7","constructor","arr","self","i","length","$","selector","context","els","tempParent","html","trim","indexOf","toCreate","document","createElement","innerHTML","childNodes","push","match","getElementById","split","querySelectorAll","nodeType","window","fn","prototype","Class","unique","uniqueArray","toCamelCase","string","toLowerCase","replace","group1","toUpperCase","requestAnimationFrame","callback","webkitRequestAnimationFrame","setTimeout","cancelAnimationFrame","id","webkitCancelAnimationFrame","clearTimeout","addClass","className","classes","j","classList","add","removeClass","remove","hasClass","contains","toggleClass","toggle","attr","attrs","value","arguments","getAttribute","undefined","setAttribute","attrName","removeAttr","removeAttribute","prop","props","propName","data","key","el","dom7ElementDataStorage","dataKey","removeData","dataset","attributes","name","parseFloat","val","multiple","nodeName","values","selectedOptions","transform","elStyle","style","webkitTransform","transition","duration","webkitTransitionDuration","transitionDuration","on","args","eventType","targetSelector","listener","capture","handleLiveEvent","e","target","eventData","dom7EventData","unshift","is","apply","parents","k","handleEvent","events","dom7Listeners","type","proxyListener","addEventListener","dom7LiveListeners","off","removeEventListener","once","dom","eventName","proxy","trigger","evt","CustomEvent","detail","bubbles","cancelable","createEvent","initEvent","filter","dataIndex","dispatchEvent","transitionEnd","fireCallBack","call","animationEnd","width","innerWidth","css","outerWidth","includeMargins","styles","offsetWidth","getPropertyValue","height","innerHeight","outerHeight","offsetHeight","offset","box","getBoundingClientRect","body","clientTop","clientLeft","scrollTop","scrollY","scrollLeft","scrollX","top","left","hide","display","show","getComputedStyle","toArray","each","forEach","matchedItems","map","modifiedItems","text","textContent","compareWith","matches","webkitMatchesSelector","msMatchesSelector","index","child","previousSibling","eq","returnIndex","append","newChild","tempDiv","firstChild","appendChild","appendTo","parent","prepend","insertBefore","prependTo","before","parentNode","cloneNode","insertAfter","after","nextSibling","next","nextElementSibling","nextAll","nextEls","prev","previousElementSibling","prevAll","prevEls","siblings","closest","find","foundElements","found","children","removeChild","detach","toAdd","empty","scrollTo","easing","animate","currentTop","currentLeft","maxTop","maxLeft","newTop","newLeft","animateTop","animateLeft","scrollHeight","Math","max","min","scrollWidth","startTime","render","time","Date","getTime","progress","easeProgress","cos","PI","done","initialProps","initialParams","a","extend","params","elements","animating","que","easingProgress","stop","frameId","element","dom7AnimateInstance","complete","shift","initialFullValue","initialValue","unit","finalValue","finalFullValue","container","Object","keys","currentValue","elementsDone","propsDone","began","begin","animateInstance","noTrigger","eventShortcut","click","bind","blur","focus","focusin","focusout","keyup","keydown","keypress","submit","change","mousedown","mousemove","mouseup","mouseenter","mouseleave","mouseout","mouseover","touchstart","touchend","touchmove","resize","scroll","Methods","methodName","w","navigator","userAgent","location","history","Image","screen","win","Utils","deleteProps","obj","object","nextTick","delay","now","getTranslate","axis","matrix","curTransform","transformMatrix","curStyle","WebKitCSSMatrix","join","MozTransform","OTransform","MsTransform","msTransform","toString","m41","m42","parseUrlQuery","url","query","urlToParse","href","param","paramsPart","decodeURIComponent","isObject","o","to","nextSource","keysArray","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","enumerable","d","activeElement","querySelector","getElementsByTagName","hash","doc","Support","testDiv","touch","Modernizr","checkTouch","DocumentTouch","pointerEvents","pointerEnabled","PointerEvent","prefixedPointerEvents","msPointerEnabled","checkTransition","transforms3d","csstransforms3d","checkTransforms3d","flexbox","checkFlexbox","styles$$1","observer","checkObserver","passiveListener","checkPassiveListener","supportsPassive","opts","defineProperty","get","gestures","checkGestures","SwiperClass","eventsListeners","handler","event","onceHandler","eventHandler","index$$1","splice","emit","data$$1","Array","isArray","slice","eventsArray","handlers","useModulesParams","instanceParams","instance","modules","moduleName","module","useModules","modulesParams","moduleParams","modulePropName","moduleProp","moduleEventName","create","components","use","installModule","proto","static","install","m","updateSize","swiper","$el","clientWidth","clientHeight","isHorizontal","isVertical","parseInt","size","updateSlides","$wrapperEl","swiperSize","rtl","wrongRTL","slides","slideClass","isVirtual","virtual","enabled","slidesLength","snapGrid","slidesGrid","slidesSizesGrid","offsetBefore","slidesOffsetBefore","offsetAfter","slidesOffsetAfter","previousSlidesLength","previousSnapGridLength","previousSlidesGridLength","spaceBetween","slidePosition","prevSlideSize","virtualSize","marginLeft","marginTop","marginRight","marginBottom","slidesNumberEvenToRows","slidesPerColumn","floor","ceil","slidesPerView","slidesPerColumnFill","slideSize","slidesPerRow","numFullColumns","slide","newSlideOrderIndex","column","row","order","roundLengths","swiperSlideSize","centeredSlides","abs","slidesPerGroup","newSlidesGrid","effect","setWrapperSize","watchOverflow","checkOverflow","watchSlidesProgress","watchSlidesVisibility","updateSlidesOffset","updateAutoHeight","activeSlides","newHeight","activeIndex","swiperSlideOffset","offsetLeft","offsetTop","updateSlidesProgress","translate","offsetCenter","slideVisibleClass","slideProgress","minTranslate","slideBefore","slideAfter","isVisible","updateProgress","translatesDiff","maxTranslate","isBeginning","isEnd","wasBeginning","wasEnd","updateSlidesClasses","realIndex","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","activeSlide","loop","slideDuplicateClass","nextSlide","prevSlide","updateActiveIndex","newActiveIndex","previousIndex","previousRealIndex","snapIndex","previousSnapIndex","normalizeSlideIndex","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToClickedSlide","update","virtualTranslate","currentTranslate","setTranslate","byController","x","y","z","newProgress","setTransition","transitionStart","runCallbacks","autoHeight","transitionEnd$1","transition$1","slideTo","speed","internal","slideIndex","initialSlide","initialized","allowSlideNext","allowSlidePrev","destroyed","slideNext","loopFix","_clientLeft","slidePrev","slideReset","slidesPerViewDynamic","slideToIndex","loopedSlides","loopCreate","loopFillGroupWithBlank","blankSlidesNum","blankNode","slideBlankClass","loopAdditionalSlides","prependSlides","appendSlides","newIndex","loopDestroy","setGrabCursor","moving","simulateTouch","cursor","unsetGrabCursor","grabCursor","appendSlide","prependSlide","removeSlide","slidesIndexes","indexToRemove","removeAllSlides","manipulation","Device","ua","device","ios","android","androidChrome","desktop","windows","iphone","ipod","ipad","cordova","phonegap","os","osVersion","webView","osVersionArr","metaViewport","minimalUi","pixelRatio","devicePixelRatio","onTouchStart","touchEventsData","touches","originalEvent","isTouchEvent","which","isTouched","isMoved","noSwiping","noSwipingClass","allowClick","swipeHandler","currentX","targetTouches","pageX","currentY","pageY","startX","startY","iOSEdgeSwipeDetection","iOSEdgeSwipeThreshold","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","swipeDirection","threshold","allowThresholdMove","preventDefault","formElements","allowTouchMove","onTouchMove","preventedByNestedSwiper","touchReleaseOnEdges","diffX","diffY","touchAngle","atan2","touchMoveStopPropagation","nested","stopPropagation","startTranslate","allowMomentumBounce","diff","touchRatio","disableParentSwiper","resistanceRatio","resistance","followFinger","freeMode","velocities","position","onTouchEnd","touchEndTime","timeDiff","lastClickTime","clickTimeout","currentPos","freeModeMomentum","lastMoveEvent","pop","velocityEvent","distance","velocity","freeModeMinimumVelocity","freeModeMomentumVelocityRatio","momentumDuration","freeModeMomentumRatio","momentumDistance","newPosition","doBounce","afterBouncePosition","bounceAmount","freeModeMomentumBounceRatio","freeModeMomentumBounce","freeModeSticky","longSwipesMs","stopIndex","groupSize","ratio","longSwipes","longSwipesRatio","shortSwipes","onResize","breakpoints","setBreakpoint","newTranslate","onClick","preventClicks","preventClicksPropagation","stopImmediatePropagation","attachEvents","touchEvents","wrapperEl","touchEventsTarget","start","move","end","passiveListeners","passive","detachEvents","breakpoint","getBreakpoint","currentBreakpoint","breakPointsParams","originalParams","needsReLoop","points","point","sort","b","addClasses","classNames","suffixes","direction","suffix","containerModifierClass","removeClasses","loadImage","imageEl","src","srcset","sizes","checkForComplete","image","onReady","onload","onerror","preloadImages","imagesToLoad","imagesLoaded","updateOnImagesReady","currentSrc","images","wasLocked","isLocked","navigation","checkOverflow$1","defaults","init","uniqueNavElements","wrapperClass","runCallbacksOnInit","prototypes","extendedDefaults","Swiper$1","prototypeGroup","protoMethod","moduleParamName","swiperParams","passedParams","swipers","containerEl","newParams","dir","spv","breakLoop","translateValue","translated","destroy","deleteInstance","cleanStyles","extendDefaults","newDefaults","Device$2","Support$2","support","Browser$1","Browser","isSafari","isUiWebView","test","browser","Resize","resizeHandler","orientationChangeHandler","Observer","func","MutationObserver","WebkitMutationObserver","attach","options","ObserverFunc","mutations","mutation","observe","childList","characterData","observers","observeParents","containerParents","disconnect","Observer$1","Virtual","force","from","previousFrom","previousTo","previousSlidesGrid","renderSlide","previousOffset","offsetProp","slidesAfter","slidesBefore","offset$$1","onRendered","lazy","load","renderExternal","getSlides","slidesToRender","prependIndexes","appendIndexes","cache","$slideEl","newCache","cachedIndex","Virtual$1","beforeInit","overwriteParams","Keyboard","handle","kc","keyCode","charCode","shiftKey","altKey","ctrlKey","metaKey","keyboard","onlyInViewport","inView","windowScroll","pageXOffset","pageYOffset","windowWidth","windowHeight","swiperOffset","swiperCoord","returnValue","enable","disable","Keyboard$1","isEventSupported","isSupported","implementation","hasFeature","Mousewheel","lastScrollTime","getEvent","normalize","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","sX","sY","pX","pY","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","mousewheel","delta","rtlFactor","forceToAxis","invert","releaseOnEdges","sensitivity","timeout","autoplay","autoplayDisableOnInteraction","stopAutoplay","eventsTarged","Mousewheel$1","Navigation","$nextEl","$prevEl","disabledClass","lockClass","nextEl","prevEl","Navigation$1","hideOnClick","hiddenClass","toEdge","fromEdge","Pagination","pagination","current","total","paginationType","bullets","dynamicBullets","bulletSize","bulletActiveClass","bullet","$bullet","dynamicBulletsLength","bulletsOffset","currentClass","totalClass","scale","scaleX","scaleY","progressbarFillClass","renderCustom","paginationHTML","numberOfBullets","renderBullet","bulletClass","bulletElement","renderFraction","renderProgressbar","clickable","clickableClass","modifierClass","Pagination$1","activeIndexChange","snapIndexChange","slidesLengthChange","snapGridLengthChange","Scrollbar","scrollbar","dragSize","trackSize","$dragEl","newSize","newPos","opacity","divider","moveDivider","scrollbarHide","setDragPosition","pointerPosition","clientX","clientY","positionRatio","onDragStart","dragTimeout","onDragMove","onDragEnd","snapOnRelease","enableDraggable","dragEvents","disableDraggable","$swiperEl","dragEl","draggable","Scrollbar$1","observerUpdate","Parallax","setTransform","p","currentOpacity","currentScale","parallax","slideEl","parallaxEl","$parallaxEl","parallaxDuration","Parallax$1","Zoom","getDistanceBetweenTouches","x1","y1","x2","y2","sqrt","onGestureStart","zoom","gesture","fakeGestureTouched","fakeGestureMoved","scaleStart","$imageEl","$imageWrapEl","containerClass","maxRatio","isScaling","onGestureChange","scaleMove","minRatio","onGestureEnd","changedTouches","touchesStart","slideWidth","slideHeight","scaledWidth","scaledHeight","minX","maxX","minY","maxY","touchesCurrent","prevPositionX","prevPositionY","prevTime","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","onTransitionEnd","out","in","zoomedSlideClass","touchX","touchY","offsetX","offsetY","translateX","translateY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","Zoom$1","touchStart","touchEnd","doubleTap","Lazy","loadInSlide","loadInDuplicate","$images","elementClass","loadedClass","loadingClass","imageIndex","background","preloaderClass","slideOriginalIndex","originalSlide","duplicatedSlide","slideExist","initialImageLoaded","elIndex","loadPrevNext","loadPrevNextAmount","amount","maxIndex","minIndex","Lazy$1","loadOnTransitionStart","scrollbarDragMove","Controller","LinearSpline","binarySearch","search","guess","array","lastIndex","i1","i3","interpolate","getInterpolateFunction","c","controller","spline","controlled","control","multiplier","controlledTranslate","setControlledTranslate","by","inverse","setControlledTransition","Controller$1","a11y","makeElFocusable","addElRole","role","addElLabel","label","disableEl","enableEl","onEnterKey","$targetEl","notify","lastSlideMessage","nextSlideMessage","firstSlideMessage","prevSlideMessage","message","notification","liveRegion","updateNavigation","updatePagination","bulletIndex","bulletEl","$bulletEl","paginationBulletMessage","A11y","notificationClass","paginationUpdate","History","pushState","hashNavigation","paths","getPathValues","scrollToSlide","replaceState","setHistoryPopState","pathArray","pathname","part","setHistory","slugify","includes","currentState","state","text$$1","slideHistory","History$1","HashNavigation","onHashCange","newHash","activeSlideHash","setHash","slideHash","watchState","HashNavigation$1","Autoplay","run","$activeSlideEl","reverseDirection","stopOnLastSlide","running","pause","paused","waitForTransition","Autoplay$1","disableOnInteraction","beforeTransitionStart","sliderFirstMove","Fade","tx","ty","slideOpacity","fadeEffect","crossFade","eventTriggered","triggerEvents","EffectFade","Cube","swiperWidth","swiperHeight","cubeEffect","wrapperRotate","$cubeShadowEl","shadow","slideAngle","round","tz","transform$$1","slideShadows","shadowBefore","shadowAfter","shadowOffset","shadowScale","shadowAngle","sin","scale1","scale2","zFactor","EffectCube","Flip","flipEffect","limitRotation","rotate","rotateY","rotateX","zIndex","EffectFlip","Coverflow","coverflowEffect","center","depth","slideOffset","offsetMultiplier","modifier","translateZ","stretch","slideTransform","$shadowBeforeEl","$shadowAfterEl","ws","perspectiveOrigin","EffectCoverflow","view","global","Swiper"],"mappings":"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","file":"wp-swiper-shortcode.map","sourcesContent":["/**\n * Dom7 2.0.1\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * http://framework7.io/docs/dom.html\n *\n * Copyright 2017, Vladimir Kharlampidi\n * The iDangero.us\n * http://www.idangero.us/\n *\n * Licensed under MIT\n *\n * Released on: October 2, 2017\n */\nclass Dom7 {\n  constructor(arr) {\n    const self = this;\n    // Create array-like object\n    for (let i = 0; i < arr.length; i += 1) {\n      self[i] = arr[i];\n    }\n    self.length = arr.length;\n    // Return collection with methods\n    return this;\n  }\n}\n\nfunction $(selector, context) {\n  const arr = [];\n  let i = 0;\n  if (selector && !context) {\n    if (selector instanceof Dom7) {\n      return selector;\n    }\n  }\n  if (selector) {\n      // String\n    if (typeof selector === 'string') {\n      let els;\n      let tempParent;\n      const html = selector.trim();\n      if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n        let toCreate = 'div';\n        if (html.indexOf('<li') === 0) toCreate = 'ul';\n        if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n        if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n        if (html.indexOf('<tbody') === 0) toCreate = 'table';\n        if (html.indexOf('<option') === 0) toCreate = 'select';\n        tempParent = document.createElement(toCreate);\n        tempParent.innerHTML = html;\n        for (i = 0; i < tempParent.childNodes.length; i += 1) {\n          arr.push(tempParent.childNodes[i]);\n        }\n      } else {\n        if (!context && selector[0] === '#' && !selector.match(/[ .<>:~]/)) {\n          // Pure ID selector\n          els = [document.getElementById(selector.trim().split('#')[1])];\n        } else {\n          // Other selectors\n          els = (context || document).querySelectorAll(selector.trim());\n        }\n        for (i = 0; i < els.length; i += 1) {\n          if (els[i]) arr.push(els[i]);\n        }\n      }\n    } else if (selector.nodeType || selector === window || selector === document) {\n      // Node/element\n      arr.push(selector);\n    } else if (selector.length > 0 && selector[0].nodeType) {\n      // Array of elements or instance of Dom\n      for (i = 0; i < selector.length; i += 1) {\n        arr.push(selector[i]);\n      }\n    }\n  }\n  return new Dom7(arr);\n}\n\n$.fn = Dom7.prototype;\n$.Class = Dom7;\n$.Dom7 = Dom7;\n\nfunction unique(arr) {\n  const uniqueArray = [];\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group1) => group1.toUpperCase());\n}\n\nfunction requestAnimationFrame(callback) {\n  if (window.requestAnimationFrame) return window.requestAnimationFrame(callback);\n  else if (window.webkitRequestAnimationFrame) return window.webkitRequestAnimationFrame(callback);\n  return window.setTimeout(callback, 1000 / 60);\n}\nfunction cancelAnimationFrame(id) {\n  if (window.cancelAnimationFrame) return window.cancelAnimationFrame(id);\n  else if (window.webkitCancelAnimationFrame) return window.webkitCancelAnimationFrame(id);\n  return window.clearTimeout(id);\n}\n\n// Classes and attributes\nfunction addClass(className) {\n  if (typeof className === 'undefined') {\n    return this;\n  }\n  const classes = className.split(' ');\n  for (let i = 0; i < classes.length; i += 1) {\n    for (let j = 0; j < this.length; j += 1) {\n      if (typeof this[j].classList !== 'undefined') this[j].classList.add(classes[i]);\n    }\n  }\n  return this;\n}\nfunction removeClass(className) {\n  const classes = className.split(' ');\n  for (let i = 0; i < classes.length; i += 1) {\n    for (let j = 0; j < this.length; j += 1) {\n      if (typeof this[j].classList !== 'undefined') this[j].classList.remove(classes[i]);\n    }\n  }\n  return this;\n}\nfunction hasClass(className) {\n  if (!this[0]) return false;\n  return this[0].classList.contains(className);\n}\nfunction toggleClass(className) {\n  const classes = className.split(' ');\n  for (let i = 0; i < classes.length; i += 1) {\n    for (let j = 0; j < this.length; j += 1) {\n      if (typeof this[j].classList !== 'undefined') this[j].classList.toggle(classes[i]);\n    }\n  }\n  return this;\n}\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  }\n\n  // Set attrs\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      // eslint-disable-next-line\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n  return this;\n}\n// eslint-disable-next-line\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n  return this;\n}\n// eslint-disable-next-line\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        // eslint-disable-next-line\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n    return this;\n  }\n}\nfunction data(key, value) {\n  let el;\n  if (typeof value === 'undefined') {\n    el = this[0];\n    // Get value\n    if (el) {\n      if (el.dom7ElementDataStorage && (key in el.dom7ElementDataStorage)) {\n        return el.dom7ElementDataStorage[key];\n      }\n\n      const dataKey = el.getAttribute(`data-${key}`);\n      if (dataKey) {\n        return dataKey;\n      }\n      return undefined;\n    }\n    return undefined;\n  }\n\n  // Set value\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n  return this;\n}\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n  if (el.dataset) {\n    // eslint-disable-next-line\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      // eslint-disable-next-line\n      const attr = el.attributes[i];\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n  // eslint-disable-next-line\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;\n    else if (dataset[key] === 'true') dataset[key] = true;\n    else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n  return dataset;\n}\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    if (this[0]) {\n      if (this[0].multiple && this[0].nodeName.toLowerCase() === 'select') {\n        const values = [];\n        for (let i = 0; i < this[0].selectedOptions.length; i += 1) {\n          values.push(this[0].selectedOptions[i].value);\n        }\n        return values;\n      }\n      return this[0].value;\n    }\n    return undefined;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].value = value;\n  }\n  return this;\n}\n// Transforms\n// eslint-disable-next-line\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    const elStyle = this[i].style;\n    elStyle.webkitTransform = transform;\n    elStyle.transform = transform;\n  }\n  return this;\n}\nfunction transition(duration) {\n  if (typeof duration !== 'string') {\n    duration = `${duration}ms`; // eslint-disable-line\n  }\n  for (let i = 0; i < this.length; i += 1) {\n    const elStyle = this[i].style;\n    elStyle.webkitTransitionDuration = duration;\n    elStyle.transitionDuration = duration;\n  }\n  return this;\n}\n// Events\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom7EventData || [];\n    eventData.unshift(e);\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);\n    else {\n      const parents = $(target).parents(); // eslint-disable-line\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n    eventData.unshift(e);\n    listener.apply(this, eventData);\n  }\n  const events = eventType.split(' ');\n  let j;\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        if (!el.dom7Listeners) el.dom7Listeners = [];\n        el.dom7Listeners.push({\n          type: eventType,\n          listener,\n          proxyListener: handleEvent,\n        });\n        el.addEventListener(events[j], handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = [];\n        el.dom7LiveListeners.push({\n          type: eventType,\n          listener,\n          proxyListener: handleLiveEvent,\n        });\n        el.addEventListener(events[j], handleLiveEvent, capture);\n      }\n    }\n  }\n  return this;\n}\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n  if (!capture) capture = false;\n\n  const events = eventType.split(' ');\n  for (let i = 0; i < events.length; i += 1) {\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      if (!targetSelector) {\n        if (el.dom7Listeners) {\n          for (let k = 0; k < el.dom7Listeners.length; k += 1) {\n            if (listener) {\n              if (el.dom7Listeners[k].listener === listener) {\n                el.removeEventListener(events[i], el.dom7Listeners[k].proxyListener, capture);\n              }\n            } else if (el.dom7Listeners[k].type === events[i]) {\n              el.removeEventListener(events[i], el.dom7Listeners[k].proxyListener, capture);\n            }\n          }\n        }\n      } else if (el.dom7LiveListeners) {\n        for (let k = 0; k < el.dom7LiveListeners.length; k += 1) {\n          if (listener) {\n            if (el.dom7LiveListeners[k].listener === listener) {\n              el.removeEventListener(events[i], el.dom7LiveListeners[k].proxyListener, capture);\n            }\n          } else if (el.dom7LiveListeners[k].type === events[i]) {\n            el.removeEventListener(events[i], el.dom7LiveListeners[k].proxyListener, capture);\n          }\n        }\n      }\n    }\n  }\n  return this;\n}\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n  function proxy(e) {\n    const eventData = e.target.dom7EventData || [];\n    listener.apply(this, eventData);\n    dom.off(eventName, targetSelector, proxy, capture);\n  }\n  return dom.on(eventName, targetSelector, proxy, capture);\n}\nfunction trigger(...args) {\n  const events = args[0].split(' ');\n  const eventData = args[1];\n  for (let i = 0; i < events.length; i += 1) {\n    for (let j = 0; j < this.length; j += 1) {\n      let evt;\n      try {\n        evt = new window.CustomEvent(events[i], {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true,\n        });\n      } catch (e) {\n        evt = document.createEvent('Event');\n        evt.initEvent(events[i], true, true);\n        evt.detail = eventData;\n      }\n      // eslint-disable-next-line\n      this[j].dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n      this[j].dispatchEvent(evt);\n      this[j].dom7EventData = [];\n      delete this[j].dom7EventData;\n    }\n  }\n  return this;\n}\nfunction transitionEnd(callback) {\n  const events = ['webkitTransitionEnd', 'transitionend'];\n  const dom = this;\n  let i;\n  function fireCallBack(e) {\n    /* jshint validthis:true */\n    if (e.target !== this) return;\n    callback.call(this, e);\n    for (i = 0; i < events.length; i += 1) {\n      dom.off(events[i], fireCallBack);\n    }\n  }\n  if (callback) {\n    for (i = 0; i < events.length; i += 1) {\n      dom.on(events[i], fireCallBack);\n    }\n  }\n  return this;\n}\nfunction animationEnd(callback) {\n  const events = ['webkitAnimationEnd', 'animationend'];\n  const dom = this;\n  let i;\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    for (i = 0; i < events.length; i += 1) {\n      dom.off(events[i], fireCallBack);\n    }\n  }\n  if (callback) {\n    for (i = 0; i < events.length; i += 1) {\n      dom.on(events[i], fireCallBack);\n    }\n  }\n  return this;\n}\n// Sizing/Styles\nfunction width() {\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      // eslint-disable-next-line\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n    return this[0].offsetWidth;\n  }\n  return null;\n}\nfunction height() {\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      // eslint-disable-next-line\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n    return this[0].offsetHeight;\n  }\n  return null;\n}\nfunction offset() {\n  if (this.length > 0) {\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: (box.top + scrollTop) - clientTop,\n      left: (box.left + scrollLeft) - clientLeft,\n    };\n  }\n\n  return null;\n}\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n  return this;\n}\nfunction show() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n  return this;\n}\nfunction styles() {\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\nfunction css(props, value) {\n  let i;\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      for (i = 0; i < this.length; i += 1) {\n        // eslint-disable-next-line\n        for (let prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n      return this;\n    }\n  }\n  if (arguments.length === 2 && typeof props === 'string') {\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n    return this;\n  }\n  return this;\n}\n\n// Dom manipulation\nfunction toArray() {\n  const arr = [];\n  for (let i = 0; i < this.length; i += 1) {\n    arr.push(this[i]);\n  }\n  return arr;\n}\n// Iterate over the collection passing elements to `callback`\nfunction each(callback) {\n  // Don't bother continuing without a callback\n  if (!callback) return this;\n  // Iterate over the current collection\n  for (let i = 0; i < this.length; i += 1) {\n    // If the callback returns false\n    if (callback.call(this[i], i, this[i]) === false) {\n      // End the loop early\n      return this;\n    }\n  }\n  // Return `this` to allow chained DOM operations\n  return this;\n}\nfunction forEach(callback) {\n  // Don't bother continuing without a callback\n  if (!callback) return this;\n  // Iterate over the current collection\n  for (let i = 0; i < this.length; i += 1) {\n    // If the callback returns false\n    if (callback.call(this[i], this[i], i) === false) {\n      // End the loop early\n      return this;\n    }\n  }\n  // Return `this` to allow chained DOM operations\n  return this;\n}\nfunction filter(callback) {\n  const matchedItems = [];\n  const dom = this;\n  for (let i = 0; i < dom.length; i += 1) {\n    if (callback.call(dom[i], i, dom[i])) matchedItems.push(dom[i]);\n  }\n  return new Dom7(matchedItems);\n}\nfunction map(callback) {\n  const modifiedItems = [];\n  const dom = this;\n  for (let i = 0; i < dom.length; i += 1) {\n    modifiedItems.push(callback.call(dom[i], i, dom[i]));\n  }\n  return new Dom7(modifiedItems);\n}\n// eslint-disable-next-line\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : undefined;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n  return this;\n}\n// eslint-disable-next-line\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    if (this[0]) {\n      return this[0].textContent.trim();\n    }\n    return null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n  return this;\n}\nfunction is(selector) {\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    else if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    else if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n\n    compareWith = $(selector);\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n    return false;\n  } else if (selector === document) return el === document;\n  else if (selector === window) return el === window;\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n    return false;\n  }\n  return false;\n}\nfunction indexOf(el) {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i] === el) return i;\n  }\n  return -1;\n}\nfunction index() {\n  let child = this[0];\n  let i;\n  if (child) {\n    i = 0;\n    // eslint-disable-next-line\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n    return i;\n  }\n  return undefined;\n}\n// eslint-disable-next-line\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n  let returnIndex;\n  if (index > length - 1) {\n    return new Dom7([]);\n  }\n  if (index < 0) {\n    returnIndex = length + index;\n    if (returnIndex < 0) return new Dom7([]);\n    return new Dom7([this[returnIndex]]);\n  }\n  return new Dom7([this[index]]);\n}\nfunction append(...args) {\n  let newChild;\n\n  for (let k = 0; k < args.length; k += 1) {\n    newChild = args[k];\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n // eslint-disable-next-line\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\nfunction prepend(newChild) {\n  let i;\n  let j;\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n  return this;\n}\n // eslint-disable-next-line\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\nfunction insertBefore(selector) {\n  const before = $(selector);\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\nfunction insertAfter(selector) {\n  const after = $(selector);\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return new Dom7([this[0].nextElementSibling]);\n      }\n      return new Dom7([]);\n    }\n\n    if (this[0].nextElementSibling) return new Dom7([this[0].nextElementSibling]);\n    return new Dom7([]);\n  }\n  return new Dom7([]);\n}\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return new Dom7([]);\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n    if (selector) {\n      if ($(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n    el = next;\n  }\n  return new Dom7(nextEls);\n}\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return new Dom7([el.previousElementSibling]);\n      }\n      return new Dom7([]);\n    }\n\n    if (el.previousElementSibling) return new Dom7([el.previousElementSibling]);\n    return new Dom7([]);\n  }\n  return new Dom7([]);\n}\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return new Dom7([]);\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n    if (selector) {\n      if ($(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n    el = prev;\n  }\n  return new Dom7(prevEls);\n}\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n  return $(unique(parents));\n}\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n    while (parent) {\n      if (selector) {\n        if ($(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n      parent = parent.parentNode;\n    }\n  }\n  return $(unique(parents));\n}\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n  if (typeof selector === 'undefined') {\n    return new Dom7([]);\n  }\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n  return closest;\n}\nfunction find(selector) {\n  const foundElements = [];\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n  return new Dom7(foundElements);\n}\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].childNodes;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector) {\n        if (childNodes[j].nodeType === 1) children.push(childNodes[j]);\n      } else if (childNodes[j].nodeType === 1 && $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n  return new Dom7(unique(children));\n}\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n  return this;\n}\nfunction detach() {\n  return this.remove();\n}\nfunction add(...args) {\n  const dom = this;\n  let i;\n  let j;\n  for (i = 0; i < args.length; i += 1) {\n    const toAdd = $(args[i]);\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom[dom.length] = toAdd[j];\n      dom.length += 1;\n    }\n  }\n  return dom;\n}\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n      el.textContent = '';\n    }\n  }\n  return this;\n}\n\nfunction scrollTo(...args) {\n  let [left, top, duration, easing, callback] = args;\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n  if (typeof easing === 'undefined') easing = 'swing';\n\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n    let scrollLeft; // eslint-disable-line\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n    if (animateTop) {\n      currentTop = el.scrollTop;\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n    if (!duration) return;\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : (0.5 - (Math.cos(progress * Math.PI) / 2));\n      let done;\n      if (animateTop) scrollTop = currentTop + (easeProgress * (newTop - currentTop));\n      if (animateLeft) scrollLeft = currentLeft + (easeProgress * (newLeft - currentLeft));\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      requestAnimationFrame(render);\n    }\n    requestAnimationFrame(render);\n  });\n}\n// scrollTop(top, duration, easing, callback) {\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n  const dom = this;\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n  const dom = this;\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\nfunction animate(initialProps, initialParams) {\n  const els = this;\n  const a = {\n    props: $.extend({}, initialProps),\n    params: $.extend({\n      duration: 300,\n      easing: 'swing', // or 'linear'\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n    }, initialParams),\n\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - (Math.cos(progress * Math.PI) / 2);\n      }\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n      return progress;\n    },\n    stop() {\n      if (a.frameId) {\n        cancelAnimationFrame(a.frameId);\n      }\n      a.animating = false;\n      a.elements.each((index, el) => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n    done(complete) {\n      a.animating = false;\n      a.elements.each((index, el) => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n      const elements = [];\n\n      // Define & Cache Initials & Units\n      a.elements.each((index, el) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n\n        elements[index] = {\n          container: el,\n        };\n        Object.keys(props).forEach((prop) => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue,\n          };\n        });\n      });\n\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress;\n        // let el;\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n        if (startTime === null) {\n          startTime = time;\n        }\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), ((startTime + params.duration) - time < 0 ? 0 : (startTime + params.duration) - time), startTime);\n        }\n\n        elements.forEach((element) => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach((prop) => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const { initialValue, finalValue, unit } = el[prop];\n            el[prop].currentValue = initialValue + (easeProgress * (finalValue - initialValue));\n            const currentValue = el[prop].currentValue;\n\n            if (\n              (finalValue > initialValue && currentValue >= finalValue) ||\n              (finalValue < initialValue && currentValue <= finalValue)) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return;\n        // Then call\n        a.frameId = requestAnimationFrame(render);\n      }\n      a.frameId = requestAnimationFrame(render);\n      return a;\n    },\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nconst noTrigger = ('resize scroll').split(' ');\nfunction eventShortcut(name, ...args) {\n  if (typeof args[0] === 'undefined') {\n    for (let i = 0; i < this.length; i += 1) {\n      if (noTrigger.indexOf(name) < 0) {\n        if (name in this[i]) this[i][name]();\n        else {\n          $(this[i]).trigger(name);\n        }\n      }\n    }\n    return this;\n  }\n  return this.on(name, ...args);\n}\n\nfunction click(...args) {\n  return eventShortcut.bind(this)('click', ...args);\n}\nfunction blur(...args) {\n  return eventShortcut.bind(this)('blur', ...args);\n}\nfunction focus(...args) {\n  return eventShortcut.bind(this)('focus', ...args);\n}\nfunction focusin(...args) {\n  return eventShortcut.bind(this)('focusin', ...args);\n}\nfunction focusout(...args) {\n  return eventShortcut.bind(this)('focusout', ...args);\n}\nfunction keyup(...args) {\n  return eventShortcut.bind(this)('keyup', ...args);\n}\nfunction keydown(...args) {\n  return eventShortcut.bind(this)('keydown', ...args);\n}\nfunction keypress(...args) {\n  return eventShortcut.bind(this)('keypress', ...args);\n}\nfunction submit(...args) {\n  return eventShortcut.bind(this)('submit', ...args);\n}\nfunction change(...args) {\n  return eventShortcut.bind(this)('change', ...args);\n}\nfunction mousedown(...args) {\n  return eventShortcut.bind(this)('mousedown', ...args);\n}\nfunction mousemove(...args) {\n  return eventShortcut.bind(this)('mousemove', ...args);\n}\nfunction mouseup(...args) {\n  return eventShortcut.bind(this)('mouseup', ...args);\n}\nfunction mouseenter(...args) {\n  return eventShortcut.bind(this)('mouseenter', ...args);\n}\nfunction mouseleave(...args) {\n  return eventShortcut.bind(this)('mouseleave', ...args);\n}\nfunction mouseout(...args) {\n  return eventShortcut.bind(this)('mouseout', ...args);\n}\nfunction mouseover(...args) {\n  return eventShortcut.bind(this)('mouseover', ...args);\n}\nfunction touchstart(...args) {\n  return eventShortcut.bind(this)('touchstart', ...args);\n}\nfunction touchend(...args) {\n  return eventShortcut.bind(this)('touchend', ...args);\n}\nfunction touchmove(...args) {\n  return eventShortcut.bind(this)('touchmove', ...args);\n}\nfunction resize(...args) {\n  return eventShortcut.bind(this)('resize', ...args);\n}\nfunction scroll(...args) {\n  return eventShortcut.bind(this)('scroll', ...args);\n}\n\nexport { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, prop, data, removeData, dataset, val, transform, transition, on, off, once, trigger, transitionEnd, animationEnd, width, outerWidth, height, outerHeight, offset, hide, show, styles, css, toArray, each, forEach, filter, map, html, text, is, indexOf, index, eq, append, appendTo, prepend, prependTo, insertBefore, insertAfter, next, nextAll, prev, prevAll, siblings, parent, parents, closest, find, children, remove, detach, add, empty, scrollTo, scrollTop, scrollLeft, animate, stop, click, blur, focus, focusin, focusout, keyup, keydown, keypress, submit, change, mousedown, mousemove, mouseup, mouseenter, mouseleave, mouseout, mouseover, touchstart, touchend, touchmove, resize, scroll };\n","/**\n * Swiper 4.1.0\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * http://www.idangero.us/swiper/\n *\n * Copyright 2014-2018 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: January 13, 2018\n */\n\nimport { $, add, addClass, append, attr, children, closest, css, data, each, eq, find, hasClass, html, index, is, next, nextAll, off, offset, on, outerHeight, outerWidth, parent, parents, prepend, prev, prevAll, remove, removeAttr, removeClass, styles, text, toggleClass, transform, transition, transitionEnd, trigger } from 'dom7/dist/dom7.modular';\n\nconst Methods = {\n  addClass,\n  removeClass,\n  hasClass,\n  toggleClass,\n  attr,\n  removeAttr,\n  data,\n  transform,\n  transition,\n  on,\n  off,\n  trigger,\n  transitionEnd,\n  outerWidth,\n  outerHeight,\n  offset,\n  css,\n  each,\n  html,\n  text,\n  is,\n  index,\n  eq,\n  append,\n  prepend,\n  next,\n  nextAll,\n  prev,\n  prevAll,\n  parent,\n  parents,\n  closest,\n  find,\n  children,\n  remove,\n  add,\n  styles,\n};\n\nObject.keys(Methods).forEach((methodName) => {\n  $.fn[methodName] = Methods[methodName];\n});\n\nlet w;\nif (typeof window === 'undefined') {\n  w = {\n    navigator: {\n      userAgent: '',\n    },\n    location: {},\n    history: {},\n    addEventListener() {},\n    removeEventListener() {},\n    getComputedStyle() {\n      return {};\n    },\n    Image() {},\n    Date() {},\n    screen: {},\n  };\n} else {\n  w = window;\n}\n\nconst win = w;\n\nconst Utils = {\n  deleteProps(obj) {\n    const object = obj;\n    Object.keys(object).forEach((key) => {\n      try {\n        object[key] = null;\n      } catch (e) {\n        // no getter for object\n      }\n      try {\n        delete object[key];\n      } catch (e) {\n        // something got wrong\n      }\n    });\n  },\n  nextTick(callback, delay = 0) {\n    return setTimeout(callback, delay);\n  },\n  now() {\n    return Date.now();\n  },\n  getTranslate(el, axis = 'x') {\n    let matrix;\n    let curTransform;\n    let transformMatrix;\n\n    const curStyle = win.getComputedStyle(el, null);\n\n    if (win.WebKitCSSMatrix) {\n      curTransform = curStyle.transform || curStyle.webkitTransform;\n      if (curTransform.split(',').length > 6) {\n        curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n      }\n      // Some old versions of Webkit choke when 'none' is passed; pass\n      // empty string instead in this case\n      transformMatrix = new win.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n    } else {\n      transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n      matrix = transformMatrix.toString().split(',');\n    }\n\n    if (axis === 'x') {\n      // Latest Chrome and webkits Fix\n      if (win.WebKitCSSMatrix) curTransform = transformMatrix.m41;\n      // Crazy IE10 Matrix\n      else if (matrix.length === 16) curTransform = parseFloat(matrix[12]);\n      // Normal Browsers\n      else curTransform = parseFloat(matrix[4]);\n    }\n    if (axis === 'y') {\n      // Latest Chrome and webkits Fix\n      if (win.WebKitCSSMatrix) curTransform = transformMatrix.m42;\n      // Crazy IE10 Matrix\n      else if (matrix.length === 16) curTransform = parseFloat(matrix[13]);\n      // Normal Browsers\n      else curTransform = parseFloat(matrix[5]);\n    }\n    return curTransform || 0;\n  },\n  parseUrlQuery(url) {\n    const query = {};\n    let urlToParse = url || win.location.href;\n    let i;\n    let params;\n    let param;\n    let length;\n    if (typeof urlToParse === 'string' && urlToParse.length) {\n      urlToParse = urlToParse.indexOf('?') > -1 ? urlToParse.replace(/\\S*\\?/, '') : '';\n      params = urlToParse.split('&').filter(paramsPart => paramsPart !== '');\n      length = params.length;\n\n      for (i = 0; i < length; i += 1) {\n        param = params[i].replace(/#\\S+/g, '').split('=');\n        query[decodeURIComponent(param[0])] = typeof param[1] === 'undefined' ? undefined : decodeURIComponent(param[1]) || '';\n      }\n    }\n    return query;\n  },\n  isObject(o) {\n    return typeof o === 'object' && o !== null && o.constructor && o.constructor === Object;\n  },\n  extend(...args) {\n    const to = Object(args[0]);\n    for (let i = 1; i < args.length; i += 1) {\n      const nextSource = args[i];\n      if (nextSource !== undefined && nextSource !== null) {\n        const keysArray = Object.keys(Object(nextSource));\n        for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n          const nextKey = keysArray[nextIndex];\n          const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n          if (desc !== undefined && desc.enumerable) {\n            if (Utils.isObject(to[nextKey]) && Utils.isObject(nextSource[nextKey])) {\n              Utils.extend(to[nextKey], nextSource[nextKey]);\n            } else if (!Utils.isObject(to[nextKey]) && Utils.isObject(nextSource[nextKey])) {\n              to[nextKey] = {};\n              Utils.extend(to[nextKey], nextSource[nextKey]);\n            } else {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n    }\n    return to;\n  },\n};\n\nlet d;\nif (typeof document === 'undefined') {\n  d = {\n    addEventListener() {},\n    removeEventListener() {},\n    activeElement: {\n      blur() {},\n      nodeName: '',\n    },\n    querySelector() {\n      return {};\n    },\n    querySelectorAll() {\n      return [];\n    },\n    createElement() {\n      return {\n        style: {},\n        setAttribute() {},\n        getElementsByTagName() {\n          return [];\n        },\n      };\n    },\n    location: { hash: '' },\n  };\n} else {\n  d = document;\n}\n\nconst doc = d;\n\nconst Support = (function Support() {\n  const testDiv = doc.createElement('div');\n  return {\n    touch: (win.Modernizr && win.Modernizr.touch === true) || (function checkTouch() {\n      return !!(('ontouchstart' in win) || (win.DocumentTouch && doc instanceof win.DocumentTouch));\n    }()),\n\n    pointerEvents: !!(win.navigator.pointerEnabled || win.PointerEvent),\n    prefixedPointerEvents: !!win.navigator.msPointerEnabled,\n\n    transition: (function checkTransition() {\n      const style = testDiv.style;\n      return ('transition' in style || 'webkitTransition' in style || 'MozTransition' in style);\n    }()),\n    transforms3d: (win.Modernizr && win.Modernizr.csstransforms3d === true) || (function checkTransforms3d() {\n      const style = testDiv.style;\n      return ('webkitPerspective' in style || 'MozPerspective' in style || 'OPerspective' in style || 'MsPerspective' in style || 'perspective' in style);\n    }()),\n\n    flexbox: (function checkFlexbox() {\n      const style = testDiv.style;\n      const styles$$1 = ('alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient').split(' ');\n      for (let i = 0; i < styles$$1.length; i += 1) {\n        if (styles$$1[i] in style) return true;\n      }\n      return false;\n    }()),\n\n    observer: (function checkObserver() {\n      return ('MutationObserver' in win || 'WebkitMutationObserver' in win);\n    }()),\n\n    passiveListener: (function checkPassiveListener() {\n      let supportsPassive = false;\n      try {\n        const opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get() {\n            supportsPassive = true;\n          },\n        });\n        win.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {\n        // No support\n      }\n      return supportsPassive;\n    }()),\n\n    gestures: (function checkGestures() {\n      return 'ongesturestart' in win;\n    }()),\n  };\n}());\n\nclass SwiperClass {\n  constructor(params = {}) {\n    const self = this;\n    self.params = params;\n\n    // Events\n    self.eventsListeners = {};\n\n    if (self.params && self.params.on) {\n      Object.keys(self.params.on).forEach((eventName) => {\n        self.on(eventName, self.params.on[eventName]);\n      });\n    }\n  }\n  on(events, handler) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n    events.split(' ').forEach((event) => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event].push(handler);\n    });\n    return self;\n  }\n  once(events, handler) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n    function onceHandler(...args) {\n      handler.apply(self, args);\n      self.off(events, onceHandler);\n    }\n    return self.on(events, onceHandler);\n  }\n  off(events, handler) {\n    const self = this;\n    events.split(' ').forEach((event) => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else {\n        self.eventsListeners[event].forEach((eventHandler, index$$1) => {\n          if (eventHandler === handler) {\n            self.eventsListeners[event].splice(index$$1, 1);\n          }\n        });\n      }\n    });\n    return self;\n  }\n  emit(...args) {\n    const self = this;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data$$1;\n    let context;\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data$$1 = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data$$1 = args[0].data;\n      context = args[0].context || self;\n    }\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach((event) => {\n      if (self.eventsListeners[event]) {\n        const handlers = [];\n        self.eventsListeners[event].forEach((eventHandler) => {\n          handlers.push(eventHandler);\n        });\n        handlers.forEach((eventHandler) => {\n          eventHandler.apply(context, data$$1);\n        });\n      }\n    });\n    return self;\n  }\n  useModulesParams(instanceParams) {\n    const instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach((moduleName) => {\n      const module = instance.modules[moduleName];\n      // Extend params\n      if (module.params) {\n        Utils.extend(instanceParams, module.params);\n      }\n    });\n  }\n  useModules(modulesParams = {}) {\n    const instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach((moduleName) => {\n      const module = instance.modules[moduleName];\n      const moduleParams = modulesParams[moduleName] || {};\n      // Extend instance methods and props\n      if (module.instance) {\n        Object.keys(module.instance).forEach((modulePropName) => {\n          const moduleProp = module.instance[modulePropName];\n          if (typeof moduleProp === 'function') {\n            instance[modulePropName] = moduleProp.bind(instance);\n          } else {\n            instance[modulePropName] = moduleProp;\n          }\n        });\n      }\n      // Add event listeners\n      if (module.on && instance.on) {\n        Object.keys(module.on).forEach((moduleEventName) => {\n          instance.on(moduleEventName, module.on[moduleEventName]);\n        });\n      }\n\n      // Module create callback\n      if (module.create) {\n        module.create.bind(instance)(moduleParams);\n      }\n    });\n  }\n  static set components(components) {\n    const Class = this;\n    if (!Class.use) return;\n    Class.use(components);\n  }\n  static installModule(module, ...params) {\n    const Class = this;\n    if (!Class.prototype.modules) Class.prototype.modules = {};\n    const name = module.name || (`${Object.keys(Class.prototype.modules).length}_${Utils.now()}`);\n    Class.prototype.modules[name] = module;\n    // Prototype\n    if (module.proto) {\n      Object.keys(module.proto).forEach((key) => {\n        Class.prototype[key] = module.proto[key];\n      });\n    }\n    // Class\n    if (module.static) {\n      Object.keys(module.static).forEach((key) => {\n        Class[key] = module.static[key];\n      });\n    }\n    // Callback\n    if (module.install) {\n      module.install.apply(Class, params);\n    }\n    return Class;\n  }\n  static use(module, ...params) {\n    const Class = this;\n    if (Array.isArray(module)) {\n      module.forEach(m => Class.installModule(m));\n      return Class;\n    }\n    return Class.installModule(module, ...params);\n  }\n}\n\nvar updateSize = function () {\n  const swiper = this;\n  let width;\n  let height;\n  const $el = swiper.$el;\n  if (typeof swiper.params.width !== 'undefined') {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n  if (typeof swiper.params.height !== 'undefined') {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n  if ((width === 0 && swiper.isHorizontal()) || (height === 0 && swiper.isVertical())) {\n    return;\n  }\n\n  // Subtract paddings\n  width = width - parseInt($el.css('padding-left'), 10) - parseInt($el.css('padding-right'), 10);\n  height = height - parseInt($el.css('padding-top'), 10) - parseInt($el.css('padding-bottom'), 10);\n\n  Utils.extend(swiper, {\n    width,\n    height,\n    size: swiper.isHorizontal() ? width : height,\n  });\n};\n\nvar updateSlides = function () {\n  const swiper = this;\n  const params = swiper.params;\n\n  const {\n    $wrapperEl, size: swiperSize, rtl, wrongRTL,\n  } = swiper;\n  const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  let snapGrid = [];\n  const slidesGrid = [];\n  const slidesSizesGrid = [];\n\n  let offsetBefore = params.slidesOffsetBefore;\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  let offsetAfter = params.slidesOffsetAfter;\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  const previousSlidesLength = slidesLength;\n  const previousSnapGridLength = swiper.snapGrid.length;\n  const previousSlidesGridLength = swiper.snapGrid.length;\n\n  let spaceBetween = params.spaceBetween;\n  let slidePosition = -offsetBefore;\n  let prevSlideSize = 0;\n  let index$$1 = 0;\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = (parseFloat(spaceBetween.replace('%', '')) / 100) * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween;\n\n  // reset margins\n  if (rtl) slides.css({ marginLeft: '', marginTop: '' });\n  else slides.css({ marginRight: '', marginBottom: '' });\n\n  let slidesNumberEvenToRows;\n  if (params.slidesPerColumn > 1) {\n    if (Math.floor(slidesLength / params.slidesPerColumn) === slidesLength / swiper.params.slidesPerColumn) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / params.slidesPerColumn) * params.slidesPerColumn;\n    }\n    if (params.slidesPerView !== 'auto' && params.slidesPerColumnFill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, params.slidesPerView * params.slidesPerColumn);\n    }\n  }\n\n  // Calc slides\n  let slideSize;\n  const slidesPerColumn = params.slidesPerColumn;\n  const slidesPerRow = slidesNumberEvenToRows / slidesPerColumn;\n  const numFullColumns = slidesPerRow - ((params.slidesPerColumn * slidesPerRow) - slidesLength);\n  for (let i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    const slide = slides.eq(i);\n    if (params.slidesPerColumn > 1) {\n      // Set slides order\n      let newSlideOrderIndex;\n      let column;\n      let row;\n      if (params.slidesPerColumnFill === 'column') {\n        column = Math.floor(i / slidesPerColumn);\n        row = i - (column * slidesPerColumn);\n        if (column > numFullColumns || (column === numFullColumns && row === slidesPerColumn - 1)) {\n          row += 1;\n          if (row >= slidesPerColumn) {\n            row = 0;\n            column += 1;\n          }\n        }\n        newSlideOrderIndex = column + ((row * slidesNumberEvenToRows) / slidesPerColumn);\n        slide\n          .css({\n            '-webkit-box-ordinal-group': newSlideOrderIndex,\n            '-moz-box-ordinal-group': newSlideOrderIndex,\n            '-ms-flex-order': newSlideOrderIndex,\n            '-webkit-order': newSlideOrderIndex,\n            order: newSlideOrderIndex,\n          });\n      } else {\n        row = Math.floor(i / slidesPerRow);\n        column = i - (row * slidesPerRow);\n      }\n      slide\n        .css(\n          `margin-${swiper.isHorizontal() ? 'top' : 'left'}`,\n          (row !== 0 && params.spaceBetween) && (`${params.spaceBetween}px`)\n        )\n        .attr('data-swiper-column', column)\n        .attr('data-swiper-row', row);\n    }\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n    if (params.slidesPerView === 'auto') {\n      slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - ((params.slidesPerView - 1) * spaceBetween)) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        if (swiper.isHorizontal()) {\n          slides[i].style.width = `${slideSize}px`;\n        } else {\n          slides[i].style.height = `${slideSize}px`;\n        }\n      }\n    }\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n    slidesSizesGrid.push(slideSize);\n\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + (slideSize / 2) + (prevSlideSize / 2) + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - (swiperSize / 2) - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - (swiperSize / 2) - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if ((index$$1) % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if ((index$$1) % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n\n    prevSlideSize = slideSize;\n\n    index$$1 += 1;\n  }\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n  let newSlidesGrid;\n\n  if (\n    rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({ width: `${swiper.virtualSize + params.spaceBetween}px` });\n  }\n  if (!Support.flexbox || params.setWrapperSize) {\n    if (swiper.isHorizontal()) $wrapperEl.css({ width: `${swiper.virtualSize + params.spaceBetween}px` });\n    else $wrapperEl.css({ height: `${swiper.virtualSize + params.spaceBetween}px` });\n  }\n\n  if (params.slidesPerColumn > 1) {\n    swiper.virtualSize = (slideSize + params.spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / params.slidesPerColumn) - params.spaceBetween;\n    if (swiper.isHorizontal()) $wrapperEl.css({ width: `${swiper.virtualSize + params.spaceBetween}px` });\n    else $wrapperEl.css({ height: `${swiper.virtualSize + params.spaceBetween}px` });\n    if (params.centeredSlides) {\n      newSlidesGrid = [];\n      for (let i = 0; i < snapGrid.length; i += 1) {\n        if (snapGrid[i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(snapGrid[i]);\n      }\n      snapGrid = newSlidesGrid;\n    }\n  }\n\n  // Remove last grid elements depending on width\n  if (!params.centeredSlides) {\n    newSlidesGrid = [];\n    for (let i = 0; i < snapGrid.length; i += 1) {\n      if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(snapGrid[i]);\n      }\n    }\n    snapGrid = newSlidesGrid;\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    if (swiper.isHorizontal()) {\n      if (rtl) slides.css({ marginLeft: `${spaceBetween}px` });\n      else slides.css({ marginRight: `${spaceBetween}px` });\n    } else slides.css({ marginBottom: `${spaceBetween}px` });\n  }\n\n  Utils.extend(swiper, {\n    slides,\n    snapGrid,\n    slidesGrid,\n    slidesSizesGrid,\n  });\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress || params.watchSlidesVisibility) {\n    swiper.updateSlidesOffset();\n  }\n};\n\nvar updateAutoHeight = function () {\n  const swiper = this;\n  const activeSlides = [];\n  let newHeight = 0;\n  let i;\n\n  // Find slides currently in view\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n      const index$$1 = swiper.activeIndex + i;\n      if (index$$1 > swiper.slides.length) break;\n      activeSlides.push(swiper.slides.eq(index$$1)[0]);\n    }\n  } else {\n    activeSlides.push(swiper.slides.eq(swiper.activeIndex)[0]);\n  }\n\n  // Find new height from highest slide in view\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      const height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  }\n\n  // Update Height\n  if (newHeight) swiper.$wrapperEl.css('height', `${newHeight}px`);\n};\n\nvar updateSlidesOffset = function () {\n  const swiper = this;\n  const slides = swiper.slides;\n  for (let i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n};\n\nvar updateSlidesProgress = function (translate = this.translate || 0) {\n  const swiper = this;\n  const params = swiper.params;\n\n  const { slides, rtl } = swiper;\n\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n\n  let offsetCenter = -translate;\n  if (rtl) offsetCenter = translate;\n\n  // Visible Slides\n  slides.removeClass(params.slideVisibleClass);\n\n  for (let i = 0; i < slides.length; i += 1) {\n    const slide = slides[i];\n    const slideProgress =\n      (\n        (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0)) - slide.swiperSlideOffset\n      ) / (slide.swiperSlideSize + params.spaceBetween);\n    if (params.watchSlidesVisibility) {\n      const slideBefore = -(offsetCenter - slide.swiperSlideOffset);\n      const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n      const isVisible =\n                (slideBefore >= 0 && slideBefore < swiper.size) ||\n                (slideAfter > 0 && slideAfter <= swiper.size) ||\n                (slideBefore <= 0 && slideAfter >= swiper.size);\n      if (isVisible) {\n        slides.eq(i).addClass(params.slideVisibleClass);\n      }\n    }\n    slide.progress = rtl ? -slideProgress : slideProgress;\n  }\n};\n\nvar updateProgress = function (translate = this.translate || 0) {\n  const swiper = this;\n  const params = swiper.params;\n\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  let { progress, isBeginning, isEnd } = swiper;\n  const wasBeginning = isBeginning;\n  const wasEnd = isEnd;\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / (translatesDiff);\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n  Utils.extend(swiper, {\n    progress,\n    isBeginning,\n    isEnd,\n  });\n\n  if (params.watchSlidesProgress || params.watchSlidesVisibility) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n  if ((wasBeginning && !isBeginning) || (wasEnd && !isEnd)) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n};\n\nvar updateSlidesClasses = function () {\n  const swiper = this;\n\n  const {\n    slides, params, $wrapperEl, activeIndex, realIndex,\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n\n  slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);\n\n  let activeSlide;\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index=\"${activeIndex}\"]`);\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  }\n\n  // Active classes\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl\n        .children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${realIndex}\"]`)\n        .addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl\n        .children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${realIndex}\"]`)\n        .addClass(params.slideDuplicateActiveClass);\n    }\n  }\n  // Next Slide\n  let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  }\n  // Prev Slide\n  let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl\n        .children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`)\n        .addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl\n        .children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`)\n        .addClass(params.slideDuplicateNextClass);\n    }\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl\n        .children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`)\n        .addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl\n        .children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`)\n        .addClass(params.slideDuplicatePrevClass);\n    }\n  }\n};\n\nvar updateActiveIndex = function (newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtl ? swiper.translate : -swiper.translate;\n  const {\n    slidesGrid, snapGrid, params, activeIndex: previousIndex, realIndex: previousRealIndex, snapIndex: previousSnapIndex,\n  } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n  if (typeof activeIndex === 'undefined') {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - ((slidesGrid[i + 1] - slidesGrid[i]) / 2)) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    }\n    // Normalize slideIndex\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    snapIndex = Math.floor(activeIndex / params.slidesPerGroup);\n  }\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n    return;\n  }\n\n  // Get real index\n  const realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n\n  Utils.extend(swiper, {\n    snapIndex,\n    realIndex,\n    previousIndex,\n    activeIndex,\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n  swiper.emit('slideChange');\n};\n\nvar updateClickedSlide = function (e) {\n  const swiper = this;\n  const params = swiper.params;\n  const slide = $(e.target).closest(`.${params.slideClass}`)[0];\n  let slideFound = false;\n  if (slide) {\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) slideFound = true;\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = $(slide).index();\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n};\n\nvar update = {\n  updateSize,\n  updateSlides,\n  updateAutoHeight,\n  updateSlidesOffset,\n  updateSlidesProgress,\n  updateProgress,\n  updateSlidesClasses,\n  updateActiveIndex,\n  updateClickedSlide,\n};\n\nvar getTranslate = function (axis = this.isHorizontal() ? 'x' : 'y') {\n  const swiper = this;\n\n  const {\n    params, rtl, translate, $wrapperEl,\n  } = swiper;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  let currentTranslate = Utils.getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n\n  return currentTranslate || 0;\n};\n\nvar setTranslate = function (translate, byController) {\n  const swiper = this;\n  const {\n    rtl, params, $wrapperEl, progress,\n  } = swiper;\n  let x = 0;\n  let y = 0;\n  const z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (!params.virtualTranslate) {\n    if (Support.transforms3d) $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);\n    else $wrapperEl.transform(`translate(${x}px, ${y}px)`);\n  }\n\n  swiper.translate = swiper.isHorizontal() ? x : y;\n\n  // Check if we need to update progress\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / (translatesDiff);\n  }\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n};\n\nvar minTranslate = function () {\n  return (-this.snapGrid[0]);\n};\n\nvar maxTranslate = function () {\n  return (-this.snapGrid[this.snapGrid.length - 1]);\n};\n\nvar translate = {\n  getTranslate,\n  setTranslate,\n  minTranslate,\n  maxTranslate,\n};\n\nvar setTransition = function (duration, byController) {\n  const swiper = this;\n\n  swiper.$wrapperEl.transition(duration);\n\n  swiper.emit('setTransition', duration, byController);\n};\n\nvar transitionStart = function (runCallbacks = true) {\n  const swiper = this;\n  const { activeIndex, params, previousIndex } = swiper;\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n  swiper.emit('transitionStart');\n\n  if (!runCallbacks) return;\n  if (activeIndex !== previousIndex) {\n    swiper.emit('slideChangeTransitionStart');\n    if (activeIndex > previousIndex) {\n      swiper.emit('slideNextTransitionStart');\n    } else {\n      swiper.emit('slidePrevTransitionStart');\n    }\n  }\n};\n\nvar transitionEnd$1 = function (runCallbacks = true) {\n  const swiper = this;\n  const { activeIndex, previousIndex } = swiper;\n  swiper.animating = false;\n  swiper.setTransition(0);\n\n  swiper.emit('transitionEnd');\n  if (runCallbacks) {\n    if (activeIndex !== previousIndex) {\n      swiper.emit('slideChangeTransitionEnd');\n      if (activeIndex > previousIndex) {\n        swiper.emit('slideNextTransitionEnd');\n      } else {\n        swiper.emit('slidePrevTransitionEnd');\n      }\n    }\n  }\n};\n\nvar transition$1 = {\n  setTransition,\n  transitionStart,\n  transitionEnd: transitionEnd$1,\n};\n\nvar slideTo = function (index$$1 = 0, speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  let slideIndex = index$$1;\n  if (slideIndex < 0) slideIndex = 0;\n\n  const {\n    params, snapGrid, slidesGrid, previousIndex, activeIndex, rtl, $wrapperEl,\n  } = swiper;\n\n  let snapIndex = Math.floor(slideIndex / params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  }\n\n  const translate = -snapGrid[snapIndex];\n\n  // Update progress\n  swiper.updateProgress(translate);\n\n  // Normalize slideIndex\n  if (params.normalizeSlideIndex) {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      if (-Math.floor(translate * 100) >= Math.floor(slidesGrid[i] * 100)) {\n        slideIndex = i;\n      }\n    }\n  }\n\n  // Directions locks\n  if (swiper.initialized) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  // Update Index\n  if ((rtl && -translate === swiper.translate) || (!rtl && translate === swiper.translate)) {\n    swiper.updateActiveIndex(slideIndex);\n    // Update Height\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n    swiper.updateSlidesClasses();\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n    return false;\n  }\n\n  if (speed === 0 || !Support.transition) {\n    swiper.setTransition(0);\n    swiper.setTranslate(translate);\n    swiper.updateActiveIndex(slideIndex);\n    swiper.updateSlidesClasses();\n    swiper.emit('beforeTransitionStart', speed, internal);\n    swiper.transitionStart(runCallbacks);\n    swiper.transitionEnd(runCallbacks);\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(translate);\n    swiper.updateActiveIndex(slideIndex);\n    swiper.updateSlidesClasses();\n    swiper.emit('beforeTransitionStart', speed, internal);\n    swiper.transitionStart(runCallbacks);\n    if (!swiper.animating) {\n      swiper.animating = true;\n      $wrapperEl.transitionEnd(() => {\n        if (!swiper || swiper.destroyed) return;\n        swiper.transitionEnd(runCallbacks);\n      });\n    }\n  }\n\n  return true;\n};\n\n/* eslint no-unused-vars: \"off\" */\nvar slideNext = function (speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const { params, animating } = swiper;\n  if (params.loop) {\n    if (animating) return false;\n    swiper.loopFix();\n    // eslint-disable-next-line\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n    return swiper.slideTo(swiper.activeIndex + params.slidesPerGroup, speed, runCallbacks, internal);\n  }\n  return swiper.slideTo(swiper.activeIndex + params.slidesPerGroup, speed, runCallbacks, internal);\n};\n\n/* eslint no-unused-vars: \"off\" */\nvar slidePrev = function (speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const { params, animating } = swiper;\n\n  if (params.loop) {\n    if (animating) return false;\n    swiper.loopFix();\n    // eslint-disable-next-line\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n    return swiper.slideTo(swiper.activeIndex - 1, speed, runCallbacks, internal);\n  }\n  return swiper.slideTo(swiper.activeIndex - 1, speed, runCallbacks, internal);\n};\n\n/* eslint no-unused-vars: \"off\" */\nvar slideReset = function (speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n};\n\nvar slideToClickedSlide = function () {\n  const swiper = this;\n  const { params, $wrapperEl } = swiper;\n\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  let slideToIndex = swiper.clickedIndex;\n  let realIndex;\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n    if (params.centeredSlides) {\n      if (\n        (slideToIndex < swiper.loopedSlides - (slidesPerView / 2)) ||\n        (slideToIndex > (swiper.slides.length - swiper.loopedSlides) + (slidesPerView / 2))\n      ) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl\n          .children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`)\n          .eq(0)\n          .index();\n\n        Utils.nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl\n        .children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`)\n        .eq(0)\n        .index();\n\n      Utils.nextTick(() => {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n};\n\nvar slide = {\n  slideTo,\n  slideNext,\n  slidePrev,\n  slideReset,\n  slideToClickedSlide,\n};\n\nvar loopCreate = function () {\n  const swiper = this;\n  const { params, $wrapperEl } = swiper;\n  // Remove duplicated slides\n  $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n\n  let slides = $wrapperEl.children(`.${params.slideClass}`);\n\n  if (params.loopFillGroupWithBlank) {\n    const blankSlidesNum = params.slidesPerGroup - (slides.length % params.slidesPerGroup);\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (let i = 0; i < blankSlidesNum; i += 1) {\n        const blankNode = $(doc.createElement('div')).addClass(`${params.slideClass} ${params.slideBlankClass}`);\n        $wrapperEl.append(blankNode);\n      }\n      slides = $wrapperEl.children(`.${params.slideClass}`);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n\n  swiper.loopedSlides = parseInt(params.loopedSlides || params.slidesPerView, 10);\n  swiper.loopedSlides += params.loopAdditionalSlides;\n  if (swiper.loopedSlides > slides.length) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  const prependSlides = [];\n  const appendSlides = [];\n  slides.each((index$$1, el) => {\n    const slide = $(el);\n    if (index$$1 < swiper.loopedSlides) appendSlides.push(el);\n    if (index$$1 < slides.length && index$$1 >= slides.length - swiper.loopedSlides) prependSlides.push(el);\n    slide.attr('data-swiper-slide-index', index$$1);\n  });\n  for (let i = 0; i < appendSlides.length; i += 1) {\n    $wrapperEl.append($(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n  for (let i = prependSlides.length - 1; i >= 0; i -= 1) {\n    $wrapperEl.prepend($(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n};\n\nvar loopFix = function () {\n  const swiper = this;\n  const {\n    params, activeIndex, slides, loopedSlides, allowSlidePrev, allowSlideNext,\n  } = swiper;\n  let newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  // Fix For Negative Oversliding\n  if (activeIndex < loopedSlides) {\n    newIndex = (slides.length - (loopedSlides * 3)) + activeIndex;\n    newIndex += loopedSlides;\n    swiper.slideTo(newIndex, 0, false, true);\n  } else if ((params.slidesPerView === 'auto' && activeIndex >= loopedSlides * 2) || (activeIndex > slides.length - (params.slidesPerView * 2))) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n    swiper.slideTo(newIndex, 0, false, true);\n  }\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n};\n\nvar loopDestroy = function () {\n  const swiper = this;\n  const { $wrapperEl, params, slides } = swiper;\n  $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n  slides.removeAttr('data-swiper-slide-index');\n};\n\nvar loop = {\n  loopCreate,\n  loopFix,\n  loopDestroy,\n};\n\nvar setGrabCursor = function (moving) {\n  const swiper = this;\n  if (Support.touch || !swiper.params.simulateTouch) return;\n  const el = swiper.el;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? '-webkit-grabbing' : '-webkit-grab';\n  el.style.cursor = moving ? '-moz-grabbin' : '-moz-grab';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n};\n\nvar unsetGrabCursor = function () {\n  const swiper = this;\n  if (Support.touch) return;\n  swiper.el.style.cursor = '';\n};\n\nvar grabCursor = {\n  setGrabCursor,\n  unsetGrabCursor,\n};\n\nvar appendSlide = function (slides) {\n  const swiper = this;\n  const { $wrapperEl, params } = swiper;\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n  } else {\n    $wrapperEl.append(slides);\n  }\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n  if (!(params.observer && Support.observer)) {\n    swiper.update();\n  }\n};\n\nvar prependSlide = function (slides) {\n  const swiper = this;\n  const { params, $wrapperEl, activeIndex } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n  let newActiveIndex = activeIndex + 1;\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.prepend(slides[i]);\n    }\n    newActiveIndex = activeIndex + slides.length;\n  } else {\n    $wrapperEl.prepend(slides);\n  }\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n  if (!(params.observer && Support.observer)) {\n    swiper.update();\n  }\n  swiper.slideTo(newActiveIndex, 0, false);\n};\n\nvar removeSlide = function (slidesIndexes) {\n  const swiper = this;\n  const { params, $wrapperEl, activeIndex } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n  let newActiveIndex = activeIndex;\n  let indexToRemove;\n\n  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n    for (let i = 0; i < slidesIndexes.length; i += 1) {\n      indexToRemove = slidesIndexes[i];\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    }\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  } else {\n    indexToRemove = slidesIndexes;\n    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && Support.observer)) {\n    swiper.update();\n  }\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n};\n\nvar removeAllSlides = function () {\n  const swiper = this;\n\n  const slidesIndexes = [];\n  for (let i = 0; i < swiper.slides.length; i += 1) {\n    slidesIndexes.push(i);\n  }\n  swiper.removeSlide(slidesIndexes);\n};\n\nvar manipulation = {\n  appendSlide,\n  prependSlide,\n  removeSlide,\n  removeAllSlides,\n};\n\nconst Device = (function Device() {\n  const ua = win.navigator.userAgent;\n\n  const device = {\n    ios: false,\n    android: false,\n    androidChrome: false,\n    desktop: false,\n    windows: false,\n    iphone: false,\n    ipod: false,\n    ipad: false,\n    cordova: win.cordova || win.phonegap,\n    phonegap: win.cordova || win.phonegap,\n  };\n\n  const windows = ua.match(/(Windows Phone);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n  const ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n\n\n  // Windows\n  if (windows) {\n    device.os = 'windows';\n    device.osVersion = windows[2];\n    device.windows = true;\n  }\n  // Android\n  if (android && !windows) {\n    device.os = 'android';\n    device.osVersion = android[2];\n    device.android = true;\n    device.androidChrome = ua.toLowerCase().indexOf('chrome') >= 0;\n  }\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  }\n  // iOS\n  if (iphone && !ipod) {\n    device.osVersion = iphone[2].replace(/_/g, '.');\n    device.iphone = true;\n  }\n  if (ipad) {\n    device.osVersion = ipad[2].replace(/_/g, '.');\n    device.ipad = true;\n  }\n  if (ipod) {\n    device.osVersion = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n    device.iphone = true;\n  }\n  // iOS 8+ changed UA\n  if (device.ios && device.osVersion && ua.indexOf('Version/') >= 0) {\n    if (device.osVersion.split('.')[0] === '10') {\n      device.osVersion = ua.toLowerCase().split('version/')[1].split(' ')[0];\n    }\n  }\n\n  // Desktop\n  device.desktop = !(device.os || device.android || device.webView);\n\n  // Webview\n  device.webView = (iphone || ipad || ipod) && ua.match(/.*AppleWebKit(?!.*Safari)/i);\n\n  // Minimal UI\n  if (device.os && device.os === 'ios') {\n    const osVersionArr = device.osVersion.split('.');\n    const metaViewport = doc.querySelector('meta[name=\"viewport\"]');\n    device.minimalUi =\n      !device.webView &&\n      (ipod || iphone) &&\n      (osVersionArr[0] * 1 === 7 ? osVersionArr[1] * 1 >= 1 : osVersionArr[0] * 1 > 7) &&\n      metaViewport && metaViewport.getAttribute('content').indexOf('minimal-ui') >= 0;\n  }\n\n  // Pixel Ratio\n  device.pixelRatio = win.devicePixelRatio || 1;\n\n  // Export object\n  return device;\n}());\n\nvar onTouchStart = function (event) {\n  const swiper = this;\n  const data$$1 = swiper.touchEventsData;\n  const { params, touches } = swiper;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  data$$1.isTouchEvent = e.type === 'touchstart';\n  if (!data$$1.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (data$$1.isTouched && data$$1.isMoved) return;\n  if (params.noSwiping && $(e.target).closest(`.${params.noSwipingClass}`)[0]) {\n    swiper.allowClick = true;\n    return;\n  }\n  if (params.swipeHandler) {\n    if (!$(e).closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  const startX = touches.currentX;\n  const startY = touches.currentY;\n\n  // Do NOT start if iOS edge swipe is detected. Otherwise iOS app (UIWebView) cannot swipe-to-go-back anymore\n\n  if (\n    Device.ios &&\n    !Device.cordova &&\n    params.iOSEdgeSwipeDetection &&\n    (startX <= params.iOSEdgeSwipeThreshold) &&\n    (startX >= window.screen.width - params.iOSEdgeSwipeThreshold)\n  ) {\n    return;\n  }\n\n  Utils.extend(data$$1, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined,\n  });\n\n  touches.startX = startX;\n  touches.startY = startY;\n  data$$1.touchStartTime = Utils.now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data$$1.allowThresholdMove = false;\n  if (e.type !== 'touchstart') {\n    let preventDefault = true;\n    if ($(e.target).is(data$$1.formElements)) preventDefault = false;\n    if (doc.activeElement && $(doc.activeElement).is(data$$1.formElements)) {\n      doc.activeElement.blur();\n    }\n    if (preventDefault && swiper.allowTouchMove) {\n      e.preventDefault();\n    }\n  }\n  swiper.emit('touchStart', e);\n};\n\nvar onTouchMove = function (event) {\n  const swiper = this;\n  const data$$1 = swiper.touchEventsData;\n  const { params, touches, rtl } = swiper;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  if (data$$1.isTouchEvent && e.type === 'mousemove') return;\n  const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n  const pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n  if (!swiper.allowTouchMove) {\n    // isMoved = true;\n    swiper.allowClick = false;\n    if (data$$1.isTouched) {\n      Utils.extend(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY,\n      });\n      data$$1.touchStartTime = Utils.now();\n    }\n    return;\n  }\n  if (data$$1.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (\n        (pageY < touches.startY && swiper.translate <= swiper.maxTranslate()) ||\n        (pageY > touches.startY && swiper.translate >= swiper.minTranslate())\n      ) {\n        data$$1.isTouched = false;\n        data$$1.isMoved = false;\n        return;\n      }\n    } else if (\n      (pageX < touches.startX && swiper.translate <= swiper.maxTranslate()) ||\n      (pageX > touches.startX && swiper.translate >= swiper.minTranslate())\n    ) {\n      return;\n    }\n  }\n  if (data$$1.isTouchEvent && doc.activeElement) {\n    if (e.target === doc.activeElement && $(e.target).is(data$$1.formElements)) {\n      data$$1.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n  if (data$$1.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n\n  if (typeof data$$1.isScrolling === 'undefined') {\n    let touchAngle;\n    if ((swiper.isHorizontal() && touches.currentY === touches.startY) || (swiper.isVertical() && touches.currentX === touches.startX)) {\n      data$$1.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if ((diffX * diffX) + (diffY * diffY) >= 25) {\n        touchAngle = (Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180) / Math.PI;\n        data$$1.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : (90 - touchAngle > params.touchAngle);\n      }\n    }\n  }\n  if (data$$1.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n  if (typeof startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data$$1.startMoving = true;\n    }\n  }\n  if (!data$$1.isTouched) return;\n  if (data$$1.isScrolling) {\n    data$$1.isTouched = false;\n    return;\n  }\n  if (!data$$1.startMoving) {\n    return;\n  }\n  swiper.allowClick = false;\n  e.preventDefault();\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data$$1.isMoved) {\n    if (params.loop) {\n      swiper.loopFix();\n    }\n    data$$1.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n    data$$1.allowMomentumBounce = false;\n    // Grab Cursor\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n    swiper.emit('sliderFirstMove', e);\n  }\n  swiper.emit('sliderMove', e);\n  data$$1.isMoved = true;\n\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data$$1.currentTranslate = diff + data$$1.startTranslate;\n\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n  if ((diff > 0 && data$$1.currentTranslate > swiper.minTranslate())) {\n    disableParentSwiper = false;\n    if (params.resistance) data$$1.currentTranslate = (swiper.minTranslate() - 1) + ((-swiper.minTranslate() + data$$1.startTranslate + diff) ** resistanceRatio);\n  } else if (diff < 0 && data$$1.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data$$1.currentTranslate = (swiper.maxTranslate() + 1) - ((swiper.maxTranslate() - data$$1.startTranslate - diff) ** resistanceRatio);\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  }\n\n  // Directions locks\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data$$1.currentTranslate < data$$1.startTranslate) {\n    data$$1.currentTranslate = data$$1.startTranslate;\n  }\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data$$1.currentTranslate > data$$1.startTranslate) {\n    data$$1.currentTranslate = data$$1.startTranslate;\n  }\n\n\n  // Threshold\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data$$1.allowThresholdMove) {\n      if (!data$$1.allowThresholdMove) {\n        data$$1.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data$$1.currentTranslate = data$$1.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data$$1.currentTranslate = data$$1.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger) return;\n\n  // Update active index in free mode\n  if (params.freeMode || params.watchSlidesProgress || params.watchSlidesVisibility) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n  if (params.freeMode) {\n    // Velocity\n    if (data$$1.velocities.length === 0) {\n      data$$1.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data$$1.touchStartTime,\n      });\n    }\n    data$$1.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: Utils.now(),\n    });\n  }\n  // Update progress\n  swiper.updateProgress(data$$1.currentTranslate);\n  // Update translate\n  swiper.setTranslate(data$$1.currentTranslate);\n};\n\nvar onTouchEnd = function (event) {\n  const swiper = this;\n  const data$$1 = swiper.touchEventsData;\n\n  const {\n    params, touches, rtl, $wrapperEl, slidesGrid, snapGrid,\n  } = swiper;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  if (data$$1.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n  data$$1.allowTouchCallbacks = false;\n  if (!data$$1.isTouched) return;\n  // Return Grab Cursor\n  if (params.grabCursor && data$$1.isMoved && data$$1.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  }\n\n  // Time diff\n  const touchEndTime = Utils.now();\n  const timeDiff = touchEndTime - data$$1.touchStartTime;\n\n  // Tap, doubleTap, Click\n  if (swiper.allowClick) {\n    swiper.updateClickedSlide(e);\n    swiper.emit('tap', e);\n    if (timeDiff < 300 && (touchEndTime - data$$1.lastClickTime) > 300) {\n      if (data$$1.clickTimeout) clearTimeout(data$$1.clickTimeout);\n      data$$1.clickTimeout = Utils.nextTick(() => {\n        if (!swiper || swiper.destroyed) return;\n        swiper.emit('click', e);\n      }, 300);\n    }\n    if (timeDiff < 300 && (touchEndTime - data$$1.lastClickTime) < 300) {\n      if (data$$1.clickTimeout) clearTimeout(data$$1.clickTimeout);\n      swiper.emit('doubleTap', e);\n    }\n  }\n\n  data$$1.lastClickTime = Utils.now();\n  Utils.nextTick(() => {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data$$1.isTouched || !data$$1.isMoved || !swiper.swipeDirection || touches.diff === 0 || data$$1.currentTranslate === data$$1.startTranslate) {\n    data$$1.isTouched = false;\n    data$$1.isMoved = false;\n    return;\n  }\n  data$$1.isTouched = false;\n  data$$1.isMoved = false;\n\n  let currentPos;\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data$$1.currentTranslate;\n  }\n  if (params.freeMode) {\n    if (currentPos < -swiper.minTranslate()) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    } else if (currentPos > -swiper.maxTranslate()) {\n      if (swiper.slides.length < snapGrid.length) {\n        swiper.slideTo(snapGrid.length - 1);\n      } else {\n        swiper.slideTo(swiper.slides.length - 1);\n      }\n      return;\n    }\n\n    if (params.freeModeMomentum) {\n      if (data$$1.velocities.length > 1) {\n        const lastMoveEvent = data$$1.velocities.pop();\n        const velocityEvent = data$$1.velocities.pop();\n\n        const distance = lastMoveEvent.position - velocityEvent.position;\n        const time = lastMoveEvent.time - velocityEvent.time;\n        swiper.velocity = distance / time;\n        swiper.velocity /= 2;\n        if (Math.abs(swiper.velocity) < params.freeModeMinimumVelocity) {\n          swiper.velocity = 0;\n        }\n        // this implies that the user stopped moving a finger then released.\n        // There would be no events with distance zero, so the last event is stale.\n        if (time > 150 || (Utils.now() - lastMoveEvent.time) > 300) {\n          swiper.velocity = 0;\n        }\n      } else {\n        swiper.velocity = 0;\n      }\n      swiper.velocity *= params.freeModeMomentumVelocityRatio;\n\n      data$$1.velocities.length = 0;\n      let momentumDuration = 1000 * params.freeModeMomentumRatio;\n      const momentumDistance = swiper.velocity * momentumDuration;\n\n      let newPosition = swiper.translate + momentumDistance;\n      if (rtl) newPosition = -newPosition;\n      let doBounce = false;\n      let afterBouncePosition;\n      const bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeModeMomentumBounceRatio;\n      if (newPosition < swiper.maxTranslate()) {\n        if (params.freeModeMomentumBounce) {\n          if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n            newPosition = swiper.maxTranslate() - bounceAmount;\n          }\n          afterBouncePosition = swiper.maxTranslate();\n          doBounce = true;\n          data$$1.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.maxTranslate();\n        }\n      } else if (newPosition > swiper.minTranslate()) {\n        if (params.freeModeMomentumBounce) {\n          if (newPosition - swiper.minTranslate() > bounceAmount) {\n            newPosition = swiper.minTranslate() + bounceAmount;\n          }\n          afterBouncePosition = swiper.minTranslate();\n          doBounce = true;\n          data$$1.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.minTranslate();\n        }\n      } else if (params.freeModeSticky) {\n        let nextSlide;\n        for (let j = 0; j < snapGrid.length; j += 1) {\n          if (snapGrid[j] > -newPosition) {\n            nextSlide = j;\n            break;\n          }\n        }\n        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n          newPosition = snapGrid[nextSlide];\n        } else {\n          newPosition = snapGrid[nextSlide - 1];\n        }\n        newPosition = -newPosition;\n      }\n      // Fix duration\n      if (swiper.velocity !== 0) {\n        if (rtl) {\n          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n        } else {\n          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n        }\n      } else if (params.freeModeSticky) {\n        swiper.slideReset();\n        return;\n      }\n\n      if (params.freeModeMomentumBounce && doBounce) {\n        swiper.updateProgress(afterBouncePosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart();\n        swiper.animating = true;\n        $wrapperEl.transitionEnd(() => {\n          if (!swiper || swiper.destroyed || !data$$1.allowMomentumBounce) return;\n          swiper.emit('momentumBounce');\n\n          swiper.setTransition(params.speed);\n          swiper.setTranslate(afterBouncePosition);\n          $wrapperEl.transitionEnd(() => {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        });\n      } else if (swiper.velocity) {\n        swiper.updateProgress(newPosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart();\n        if (!swiper.animating) {\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(() => {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        }\n      } else {\n        swiper.updateProgress(newPosition);\n      }\n\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n    if (!params.freeModeMomentum || timeDiff >= params.longSwipesMs) {\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n    return;\n  }\n\n  // Find current slide\n  let stopIndex = 0;\n  let groupSize = swiper.slidesSizesGrid[0];\n  for (let i = 0; i < slidesGrid.length; i += params.slidesPerGroup) {\n    if (typeof slidesGrid[i + params.slidesPerGroup] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + params.slidesPerGroup]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + params.slidesPerGroup] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  }\n\n  // Find current slide size\n  const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(stopIndex + params.slidesPerGroup);\n      else swiper.slideTo(stopIndex);\n    }\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > (1 - params.longSwipesRatio)) swiper.slideTo(stopIndex + params.slidesPerGroup);\n      else swiper.slideTo(stopIndex);\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n    if (swiper.swipeDirection === 'next') {\n      swiper.slideTo(stopIndex + params.slidesPerGroup);\n    }\n    if (swiper.swipeDirection === 'prev') {\n      swiper.slideTo(stopIndex);\n    }\n  }\n};\n\nvar onResize = function () {\n  const swiper = this;\n\n  const { params, el } = swiper;\n\n  if (el && el.offsetWidth === 0) return;\n\n  // Breakpoints\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  }\n\n  // Save locks\n  const { allowSlideNext, allowSlidePrev } = swiper;\n\n  // Disable locks on resize\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n\n  swiper.updateSize();\n  swiper.updateSlides();\n\n  if (params.freeMode) {\n    const newTranslate = Math.min(Math.max(swiper.translate, swiper.maxTranslate()), swiper.minTranslate());\n    swiper.setTranslate(newTranslate);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n  } else {\n    swiper.updateSlidesClasses();\n    if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n      swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n    } else {\n      swiper.slideTo(swiper.activeIndex, 0, false, true);\n    }\n  }\n  // Return locks after resize\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n};\n\nvar onClick = function (e) {\n  const swiper = this;\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n};\n\nfunction attachEvents() {\n  const swiper = this;\n\n  const {\n    params, touchEvents, el, wrapperEl,\n  } = swiper;\n\n  {\n    swiper.onTouchStart = onTouchStart.bind(swiper);\n    swiper.onTouchMove = onTouchMove.bind(swiper);\n    swiper.onTouchEnd = onTouchEnd.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n\n  const target = params.touchEventsTarget === 'container' ? el : wrapperEl;\n  const capture = !!params.nested;\n\n  // Touch Events\n  {\n    if (Support.pointerEvents || Support.prefixedPointerEvents) {\n      target.addEventListener(touchEvents.start, swiper.onTouchStart, false);\n      (Support.touch ? target : doc).addEventListener(touchEvents.move, swiper.onTouchMove, capture);\n      (Support.touch ? target : doc).addEventListener(touchEvents.end, swiper.onTouchEnd, false);\n    } else {\n      if (Support.touch) {\n        const passiveListener = touchEvents.start === 'touchstart' && Support.passiveListener && params.passiveListeners ? { passive: true, capture: false } : false;\n        target.addEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);\n        target.addEventListener(touchEvents.move, swiper.onTouchMove, Support.passiveListener ? { passive: false, capture } : capture);\n        target.addEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);\n      }\n      if ((params.simulateTouch && !Device.ios && !Device.android) || (params.simulateTouch && !Support.touch && Device.ios)) {\n        target.addEventListener('mousedown', swiper.onTouchStart, false);\n        doc.addEventListener('mousemove', swiper.onTouchMove, capture);\n        doc.addEventListener('mouseup', swiper.onTouchEnd, false);\n      }\n    }\n    // Prevent Links Clicks\n    if (params.preventClicks || params.preventClicksPropagation) {\n      target.addEventListener('click', swiper.onClick, true);\n    }\n  }\n\n  // Resize handler\n  swiper.on('resize observerUpdate', onResize);\n}\n\nfunction detachEvents() {\n  const swiper = this;\n\n  const {\n    params, touchEvents, el, wrapperEl,\n  } = swiper;\n\n  const target = params.touchEventsTarget === 'container' ? el : wrapperEl;\n  const capture = !!params.nested;\n\n  // Touch Events\n  {\n    if (Support.pointerEvents || Support.prefixedPointerEvents) {\n      target.removeEventListener(touchEvents.start, swiper.onTouchStart, false);\n      (Support.touch ? target : doc).removeEventListener(touchEvents.move, swiper.onTouchMove, capture);\n      (Support.touch ? target : doc).removeEventListener(touchEvents.end, swiper.onTouchEnd, false);\n    } else {\n      if (Support.touch) {\n        const passiveListener = touchEvents.start === 'onTouchStart' && Support.passiveListener && params.passiveListeners ? { passive: true, capture: false } : false;\n        target.removeEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);\n        target.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);\n        target.removeEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);\n      }\n      if ((params.simulateTouch && !Device.ios && !Device.android) || (params.simulateTouch && !Support.touch && Device.ios)) {\n        target.removeEventListener('mousedown', swiper.onTouchStart, false);\n        doc.removeEventListener('mousemove', swiper.onTouchMove, capture);\n        doc.removeEventListener('mouseup', swiper.onTouchEnd, false);\n      }\n    }\n    // Prevent Links Clicks\n    if (params.preventClicks || params.preventClicksPropagation) {\n      target.removeEventListener('click', swiper.onClick, true);\n    }\n  }\n\n  // Resize handler\n  swiper.off('resize observerUpdate', onResize);\n}\n\nvar events = {\n  attachEvents,\n  detachEvents,\n};\n\nvar setBreakpoint = function () {\n  const swiper = this;\n  const { activeIndex, loopedSlides = 0, params } = swiper;\n  const breakpoints = params.breakpoints;\n  if (!breakpoints || (breakpoints && Object.keys(breakpoints).length === 0)) return;\n  // Set breakpoint for window width and update parameters\n  const breakpoint = swiper.getBreakpoint(breakpoints);\n  if (breakpoint && swiper.currentBreakpoint !== breakpoint) {\n    const breakPointsParams = breakpoint in breakpoints ? breakpoints[breakpoint] : swiper.originalParams;\n    const needsReLoop = params.loop && (breakPointsParams.slidesPerView !== params.slidesPerView);\n\n    Utils.extend(swiper.params, breakPointsParams);\n\n    Utils.extend(swiper, {\n      allowTouchMove: swiper.params.allowTouchMove,\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n    });\n\n    swiper.currentBreakpoint = breakpoint;\n\n    if (needsReLoop) {\n      swiper.loopDestroy();\n      swiper.loopCreate();\n      swiper.updateSlides();\n      swiper.slideTo((activeIndex - loopedSlides) + swiper.loopedSlides, 0, false);\n    }\n    swiper.emit('breakpoint', breakPointsParams);\n  }\n};\n\nvar getBreakpoint = function (breakpoints) {\n  // Get breakpoint for window width\n  if (!breakpoints) return undefined;\n  let breakpoint = false;\n  const points = [];\n  Object.keys(breakpoints).forEach((point) => {\n    points.push(point);\n  });\n  points.sort((a, b) => parseInt(a, 10) - parseInt(b, 10));\n  for (let i = 0; i < points.length; i += 1) {\n    const point = points[i];\n    if (point >= win.innerWidth && !breakpoint) {\n      breakpoint = point;\n    }\n  }\n  return breakpoint || 'max';\n};\n\nvar breakpoints = { setBreakpoint, getBreakpoint };\n\nvar addClasses = function () {\n  const swiper = this;\n  const {\n    classNames, params, rtl, $el,\n  } = swiper;\n  const suffixes = [];\n\n  suffixes.push(params.direction);\n\n  if (params.freeMode) {\n    suffixes.push('free-mode');\n  }\n  if (!Support.flexbox) {\n    suffixes.push('no-flexbox');\n  }\n  if (params.autoHeight) {\n    suffixes.push('autoheight');\n  }\n  if (rtl) {\n    suffixes.push('rtl');\n  }\n  if (params.slidesPerColumn > 1) {\n    suffixes.push('multirow');\n  }\n  if (Device.android) {\n    suffixes.push('android');\n  }\n  if (Device.ios) {\n    suffixes.push('ios');\n  }\n  // WP8 Touch Events Fix\n  if (Support.pointerEvents || Support.prefixedPointerEvents) {\n    suffixes.push(`wp8-${params.direction}`);\n  }\n\n  suffixes.forEach((suffix) => {\n    classNames.push(params.containerModifierClass + suffix);\n  });\n\n  $el.addClass(classNames.join(' '));\n};\n\nvar removeClasses = function () {\n  const swiper = this;\n  const { $el, classNames } = swiper;\n\n  $el.removeClass(classNames.join(' '));\n};\n\nvar classes = { addClasses, removeClasses };\n\nvar loadImage = function (imageEl, src, srcset, sizes, checkForComplete, callback) {\n  let image;\n  function onReady() {\n    if (callback) callback();\n  }\n  if (!imageEl.complete || !checkForComplete) {\n    if (src) {\n      image = new win.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n      if (sizes) {\n        image.sizes = sizes;\n      }\n      if (srcset) {\n        image.srcset = srcset;\n      }\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n};\n\nvar preloadImages = function () {\n  const swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n  for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    const imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(\n      imageEl,\n      imageEl.currentSrc || imageEl.getAttribute('src'),\n      imageEl.srcset || imageEl.getAttribute('srcset'),\n      imageEl.sizes || imageEl.getAttribute('sizes'),\n      true,\n      onReady\n    );\n  }\n};\n\nvar images = {\n  loadImage,\n  preloadImages,\n};\n\nfunction checkOverflow() {\n  const swiper = this;\n  const wasLocked = swiper.isLocked;\n\n  swiper.isLocked = swiper.snapGrid.length === 1;\n  swiper.allowTouchMove = !swiper.isLocked;\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n    swiper.navigation.update();\n  }\n}\n\nvar checkOverflow$1 = { checkOverflow };\n\nvar defaults = {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'container',\n  initialSlide: 0,\n  speed: 300,\n\n  // To support iOS's swipe-to-go-back gesture (when being used in-app, with UIWebView).\n  iOSEdgeSwipeDetection: false,\n  iOSEdgeSwipeThreshold: 20,\n\n  // Free mode\n  freeMode: false,\n  freeModeMomentum: true,\n  freeModeMomentumRatio: 1,\n  freeModeMomentumBounce: true,\n  freeModeMomentumBounceRatio: 1,\n  freeModeMomentumVelocityRatio: 1,\n  freeModeSticky: false,\n  freeModeMinimumVelocity: 0.02,\n\n  // Autoheight\n  autoHeight: false,\n\n  // Set wrapper width\n  setWrapperSize: false,\n\n  // Virtual Translate\n  virtualTranslate: false,\n\n  // Effects\n  effect: 'slide', // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n\n  // Breakpoints\n  breakpoints: undefined,\n\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerColumn: 1,\n  slidesPerColumnFill: 'column',\n  slidesPerGroup: 1,\n  centeredSlides: false,\n  slidesOffsetBefore: 0, // in px\n  slidesOffsetAfter: 0, // in px\n  normalizeSlideIndex: true,\n\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: false,\n\n  // Round length\n  roundLengths: false,\n\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: true,\n  touchReleaseOnEdges: false,\n\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n\n  // Progress\n  watchSlidesProgress: false,\n  watchSlidesVisibility: false,\n\n  // Cursor\n  grabCursor: false,\n\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopFillGroupWithBlank: false,\n\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null, // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n\n  // Passive Listeners\n  passiveListeners: true,\n\n  // NS\n  containerModifierClass: 'swiper-container-', // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n\n  // Callbacks\n  runCallbacksOnInit: true,\n};\n\nconst prototypes = {\n  update,\n  translate,\n  transition: transition$1,\n  slide,\n  loop,\n  grabCursor,\n  manipulation,\n  events,\n  breakpoints,\n  checkOverflow: checkOverflow$1,\n  classes,\n  images,\n};\n\nconst extendedDefaults = {};\n\nclass Swiper$1 extends SwiperClass {\n  constructor(...args) {\n    let el;\n    let params;\n    if (args.length === 1 && args[0].constructor && args[0].constructor === Object) {\n      params = args[0];\n    } else {\n      [el, params] = args;\n    }\n    if (!params) params = {};\n\n    params = Utils.extend({}, params);\n    if (el && !params.el) params.el = el;\n\n    super(params);\n\n    Object.keys(prototypes).forEach((prototypeGroup) => {\n      Object.keys(prototypes[prototypeGroup]).forEach((protoMethod) => {\n        if (!Swiper$1.prototype[protoMethod]) {\n          Swiper$1.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n        }\n      });\n    });\n\n    // Swiper Instance\n    const swiper = this;\n    if (typeof swiper.modules === 'undefined') {\n      swiper.modules = {};\n    }\n    Object.keys(swiper.modules).forEach((moduleName) => {\n      const module = swiper.modules[moduleName];\n      if (module.params) {\n        const moduleParamName = Object.keys(module.params)[0];\n        const moduleParams = module.params[moduleParamName];\n        if (typeof moduleParams !== 'object') return;\n        if (!(moduleParamName in params && 'enabled' in moduleParams)) return;\n        if (params[moduleParamName] === true) {\n          params[moduleParamName] = { enabled: true };\n        }\n        if (\n          typeof params[moduleParamName] === 'object' &&\n          !('enabled' in params[moduleParamName])\n        ) {\n          params[moduleParamName].enabled = true;\n        }\n        if (!params[moduleParamName]) params[moduleParamName] = { enabled: false };\n      }\n    });\n\n    // Extend defaults with modules params\n    const swiperParams = Utils.extend({}, defaults);\n    swiper.useModulesParams(swiperParams);\n\n    // Extend defaults with passed params\n    swiper.params = Utils.extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = Utils.extend({}, swiper.params);\n    swiper.passedParams = Utils.extend({}, params);\n\n    // Find el\n    const $el = $(swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return undefined;\n    }\n\n    if ($el.length > 1) {\n      const swipers = [];\n      $el.each((index$$1, containerEl) => {\n        const newParams = Utils.extend({}, params, { el: containerEl });\n        swipers.push(new Swiper$1(newParams));\n      });\n      return swipers;\n    }\n\n    el.swiper = swiper;\n    $el.data('swiper', swiper);\n\n    // Find Wrapper\n    const $wrapperEl = $el.children(`.${swiper.params.wrapperClass}`);\n\n    // Extend Swiper\n    Utils.extend(swiper, {\n      $el,\n      el,\n      $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n\n      // Classes\n      classNames: [],\n\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n\n      // isDirection\n      isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n      isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n      // RTL\n      rtl: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box',\n\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n\n      //\n      isBeginning: true,\n      isEnd: false,\n\n      // Props\n      translate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n\n      // Touch Events\n      touchEvents: (function touchEvents() {\n        const touch = ['touchstart', 'touchmove', 'touchend'];\n        let desktop = ['mousedown', 'mousemove', 'mouseup'];\n        if (Support.pointerEvents) {\n          desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        } else if (Support.prefixedPointerEvents) {\n          desktop = ['MSPointerDown', 'MSPointerMove', 'MSPointerUp'];\n        }\n\n        return {\n          start: Support.touch || !swiper.params.simulateTouch ? touch[0] : desktop[0],\n          move: Support.touch || !swiper.params.simulateTouch ? touch[1] : desktop[1],\n          end: Support.touch || !swiper.params.simulateTouch ? touch[2] : desktop[2],\n        };\n      }()),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        formElements: 'input, select, option, textarea, button, video',\n        // Last click time\n        lastClickTime: Utils.now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined,\n      },\n\n      // Clicks\n      allowClick: true,\n\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0,\n      },\n\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0,\n\n    });\n\n    // Install Modules\n    swiper.useModules();\n\n    // Init\n    if (swiper.params.init) {\n      swiper.init();\n    }\n\n    // Return app instance\n    return swiper;\n  }\n  slidesPerViewDynamic() {\n    const swiper = this;\n    const {\n      params, slides, slidesGrid, size: swiperSize, activeIndex,\n    } = swiper;\n    let spv = 1;\n    if (params.centeredSlides) {\n      let slideSize = slides[activeIndex].swiperSlideSize;\n      let breakLoop;\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n      for (let i = activeIndex - 1; i >= 0; i -= 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slidesGrid[i] - slidesGrid[activeIndex] < swiperSize) {\n          spv += 1;\n        }\n      }\n    }\n    return spv;\n  }\n  update() {\n    const swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      const translateValue = swiper.rtl ? swiper.translate * -1 : swiper.translate;\n      const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n    let translated;\n    if (swiper.params.freeMode) {\n      setTranslate();\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n      if (!translated) {\n        setTranslate();\n      }\n    }\n    swiper.emit('update');\n  }\n  init() {\n    const swiper = this;\n    if (swiper.initialized) return;\n\n    swiper.emit('beforeInit');\n\n    // Set breakpoint\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    // Add Classes\n    swiper.addClasses();\n\n    // Create loop\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    }\n\n    // Update size\n    swiper.updateSize();\n\n    // Update slides\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    }\n\n    // Set Grab Cursor\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    }\n\n    // Slide To Initial Slide\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit);\n    }\n\n    // Attach events\n    swiper.attachEvents();\n\n    // Init Flag\n    swiper.initialized = true;\n\n    // Emit\n    swiper.emit('init');\n  }\n  destroy(deleteInstance = true, cleanStyles = true) {\n    const swiper = this;\n    const {\n      params, $el, $wrapperEl, slides,\n    } = swiper;\n    swiper.emit('beforeDestroy');\n\n    // Init Flag\n    swiper.initialized = false;\n\n    // Detach events\n    swiper.detachEvents();\n\n    // Destroy loop\n    if (params.loop) {\n      swiper.loopDestroy();\n    }\n\n    // Cleanup styles\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n      if (slides && slides.length) {\n        slides\n          .removeClass([\n            params.slideVisibleClass,\n            params.slideActiveClass,\n            params.slideNextClass,\n            params.slidePrevClass,\n          ].join(' '))\n          .removeAttr('style')\n          .removeAttr('data-swiper-slide-index')\n          .removeAttr('data-swiper-column')\n          .removeAttr('data-swiper-row');\n      }\n    }\n\n    swiper.emit('destroy');\n\n    // Detach emitter events\n    Object.keys(swiper.eventsListeners).forEach((eventName) => {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      swiper.$el.data('swiper', null);\n      Utils.deleteProps(swiper);\n    }\n    swiper.destroyed = true;\n  }\n  static extendDefaults(newDefaults) {\n    Utils.extend(extendedDefaults, newDefaults);\n  }\n  static get extendedDefaults() {\n    return extendedDefaults;\n  }\n  static get defaults() {\n    return defaults;\n  }\n  static get Class() {\n    return SwiperClass;\n  }\n  static get $() {\n    return $;\n  }\n}\n\nvar Device$2 = {\n  name: 'device',\n  proto: {\n    device: Device,\n  },\n  static: {\n    device: Device,\n  },\n};\n\nvar Support$2 = {\n  name: 'support',\n  proto: {\n    support: Support,\n  },\n  static: {\n    support: Support,\n  },\n};\n\nconst Browser$1 = (function Browser() {\n  function isSafari() {\n    const ua = win.navigator.userAgent.toLowerCase();\n    return (ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0);\n  }\n  return {\n    isSafari: isSafari(),\n    isUiWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(win.navigator.userAgent),\n  };\n}());\n\nvar Browser = {\n  name: 'browser',\n  proto: {\n    browser: Browser$1,\n  },\n  static: {\n    browser: Browser$1,\n  },\n};\n\nvar Resize = {\n  name: 'resize',\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      resize: {\n        resizeHandler() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.emit('beforeResize');\n          swiper.emit('resize');\n        },\n        orientationChangeHandler() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.emit('orientationchange');\n        },\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      // Emit resize\n      win.addEventListener('resize', swiper.resize.resizeHandler);\n\n      // Emit orientationchange\n      win.addEventListener('orientationchange', swiper.resize.orientationChangeHandler);\n    },\n    destroy() {\n      const swiper = this;\n      win.removeEventListener('resize', swiper.resize.resizeHandler);\n      win.removeEventListener('orientationchange', swiper.resize.orientationChangeHandler);\n    },\n  },\n};\n\nconst Observer = {\n  func: win.MutationObserver || win.WebkitMutationObserver,\n  attach(target, options = {}) {\n    const swiper = this;\n\n    const ObserverFunc = Observer.func;\n    const observer = new ObserverFunc((mutations) => {\n      mutations.forEach((mutation) => {\n        swiper.emit('observerUpdate', mutation);\n      });\n    });\n\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData,\n    });\n\n    swiper.observer.observers.push(observer);\n  },\n  init() {\n    const swiper = this;\n    if (!Support.observer || !swiper.params.observer) return;\n    if (swiper.params.observeParents) {\n      const containerParents = swiper.$el.parents();\n      for (let i = 0; i < containerParents.length; i += 1) {\n        swiper.observer.attach(containerParents[i]);\n      }\n    }\n    // Observe container\n    swiper.observer.attach(swiper.$el[0], { childList: false });\n\n    // Observe wrapper\n    swiper.observer.attach(swiper.$wrapperEl[0], { attributes: false });\n  },\n  destroy() {\n    const swiper = this;\n    swiper.observer.observers.forEach((observer) => {\n      observer.disconnect();\n    });\n    swiper.observer.observers = [];\n  },\n};\n\nvar Observer$1 = {\n  name: 'observer',\n  params: {\n    observer: false,\n    observeParents: false,\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      observer: {\n        init: Observer.init.bind(swiper),\n        attach: Observer.attach.bind(swiper),\n        destroy: Observer.destroy.bind(swiper),\n        observers: [],\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      swiper.observer.init();\n    },\n    destroy() {\n      const swiper = this;\n      swiper.observer.destroy();\n    },\n  },\n};\n\nconst Virtual = {\n  update(force) {\n    const swiper = this;\n    const { slidesPerView, slidesPerGroup, centeredSlides } = swiper.params;\n    const {\n      from: previousFrom,\n      to: previousTo,\n      slides,\n      slidesGrid: previousSlidesGrid,\n      renderSlide,\n      offset: previousOffset,\n    } = swiper.virtual;\n    swiper.updateActiveIndex();\n    const activeIndex = swiper.activeIndex || 0;\n\n    let offsetProp;\n    if (swiper.rtl && swiper.isHorizontal()) offsetProp = 'right';\n    else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n\n    let slidesAfter;\n    let slidesBefore;\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1);\n      slidesBefore = slidesPerGroup;\n    }\n    const from = Math.max((activeIndex || 0) - slidesBefore, 0);\n    const to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n    const offset$$1 = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n\n    Utils.extend(swiper.virtual, {\n      from,\n      to,\n      offset: offset$$1,\n      slidesGrid: swiper.slidesGrid,\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n      if (swiper.lazy && swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset$$1 !== previousOffset) {\n        swiper.slides.css(offsetProp, `${offset$$1}px`);\n      }\n      swiper.updateProgress();\n      return;\n    }\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset: offset$$1,\n        from,\n        to,\n        slides: (function getSlides() {\n          const slidesToRender = [];\n          for (let i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n          return slidesToRender;\n        }()),\n      });\n      onRendered();\n      return;\n    }\n    const prependIndexes = [];\n    const appendIndexes = [];\n    if (force) {\n      swiper.$wrapperEl.find(`.${swiper.params.slideClass}`).remove();\n    } else {\n      for (let i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          swiper.$wrapperEl.find(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${i}\"]`).remove();\n        }\n      }\n    }\n    for (let i = 0; i < slides.length; i += 1) {\n      if (i >= from && i <= to) {\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(i);\n        } else {\n          if (i > previousTo) appendIndexes.push(i);\n          if (i < previousFrom) prependIndexes.push(i);\n        }\n      }\n    }\n    appendIndexes.forEach((index$$1) => {\n      swiper.$wrapperEl.append(renderSlide(slides[index$$1], index$$1));\n    });\n    prependIndexes.sort((a, b) => a < b).forEach((index$$1) => {\n      swiper.$wrapperEl.prepend(renderSlide(slides[index$$1], index$$1));\n    });\n    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, `${offset$$1}px`);\n    onRendered();\n  },\n  renderSlide(slide, index$$1) {\n    const swiper = this;\n    const params = swiper.params.virtual;\n    if (params.cache && swiper.virtual.cache[index$$1]) {\n      return swiper.virtual.cache[index$$1];\n    }\n    const $slideEl = params.renderSlide\n      ? $(params.renderSlide.call(swiper, slide, index$$1))\n      : $(`<div class=\"${swiper.params.slideClass}\" data-swiper-slide-index=\"${index$$1}\">${slide}</div>`);\n    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index$$1);\n    if (params.cache) swiper.virtual.cache[index$$1] = $slideEl;\n    return $slideEl;\n  },\n  appendSlide(slide) {\n    const swiper = this;\n    swiper.virtual.slides.push(slide);\n    swiper.virtual.update(true);\n  },\n  prependSlide(slide) {\n    const swiper = this;\n    swiper.virtual.slides.unshift(slide);\n    if (swiper.params.virtual.cache) {\n      const cache = swiper.virtual.cache;\n      const newCache = {};\n      Object.keys(cache).forEach((cachedIndex) => {\n        newCache[cachedIndex + 1] = cache[cachedIndex];\n      });\n      swiper.virtual.cache = newCache;\n    }\n    swiper.virtual.update(true);\n    swiper.slideNext(0);\n  },\n};\n\nvar Virtual$1 = {\n  name: 'virtual',\n  params: {\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      virtual: {\n        update: Virtual.update.bind(swiper),\n        appendSlide: Virtual.appendSlide.bind(swiper),\n        prependSlide: Virtual.prependSlide.bind(swiper),\n        renderSlide: Virtual.renderSlide.bind(swiper),\n        slides: swiper.params.virtual.slides,\n        cache: {},\n      },\n    });\n  },\n  on: {\n    beforeInit() {\n      const swiper = this;\n      if (!swiper.params.virtual.enabled) return;\n      swiper.classNames.push(`${swiper.params.containerModifierClass}virtual`);\n      const overwriteParams = {\n        watchSlidesProgress: true,\n      };\n      Utils.extend(swiper.params, overwriteParams);\n      Utils.extend(swiper.originalParams, overwriteParams);\n\n      swiper.virtual.update();\n    },\n    setTranslate() {\n      const swiper = this;\n      if (!swiper.params.virtual.enabled) return;\n      swiper.virtual.update();\n    },\n  },\n};\n\nconst Keyboard = {\n  handle(event) {\n    const swiper = this;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n    const kc = e.keyCode || e.charCode;\n    // Directions locks\n    if (!swiper.allowSlideNext && ((swiper.isHorizontal() && kc === 39) || (swiper.isVertical() && kc === 40))) {\n      return false;\n    }\n    if (!swiper.allowSlidePrev && ((swiper.isHorizontal() && kc === 37) || (swiper.isVertical() && kc === 38))) {\n      return false;\n    }\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n    if (doc.activeElement && doc.activeElement.nodeName && (doc.activeElement.nodeName.toLowerCase() === 'input' || doc.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n    if (swiper.params.keyboard.onlyInViewport && (kc === 37 || kc === 39 || kc === 38 || kc === 40)) {\n      let inView = false;\n      // Check that swiper should be inside of visible area of window\n      if (swiper.$el.parents(`.${swiper.params.slideClass}`).length > 0 && swiper.$el.parents(`.${swiper.params.slideActiveClass}`).length === 0) {\n        return undefined;\n      }\n      const windowScroll = {\n        left: win.pageXOffset,\n        top: win.pageYOffset,\n      };\n      const windowWidth = win.innerWidth;\n      const windowHeight = win.innerHeight;\n      const swiperOffset = swiper.$el.offset();\n      if (swiper.rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      const swiperCoord = [\n        [swiperOffset.left, swiperOffset.top],\n        [swiperOffset.left + swiper.width, swiperOffset.top],\n        [swiperOffset.left, swiperOffset.top + swiper.height],\n        [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height],\n      ];\n      for (let i = 0; i < swiperCoord.length; i += 1) {\n        const point = swiperCoord[i];\n        if (\n          point[0] >= windowScroll.left && point[0] <= windowScroll.left + windowWidth &&\n            point[1] >= windowScroll.top && point[1] <= windowScroll.top + windowHeight\n        ) {\n          inView = true;\n        }\n      }\n      if (!inView) return undefined;\n    }\n    if (swiper.isHorizontal()) {\n      if (kc === 37 || kc === 39) {\n        if (e.preventDefault) e.preventDefault();\n        else e.returnValue = false;\n      }\n      if ((kc === 39 && !swiper.rtl) || (kc === 37 && swiper.rtl)) swiper.slideNext();\n      if ((kc === 37 && !swiper.rtl) || (kc === 39 && swiper.rtl)) swiper.slidePrev();\n    } else {\n      if (kc === 38 || kc === 40) {\n        if (e.preventDefault) e.preventDefault();\n        else e.returnValue = false;\n      }\n      if (kc === 40) swiper.slideNext();\n      if (kc === 38) swiper.slidePrev();\n    }\n    swiper.emit('keyPress', kc);\n    return undefined;\n  },\n  enable() {\n    const swiper = this;\n    if (swiper.keyboard.enabled) return;\n    $(doc).on('keydown', swiper.keyboard.handle);\n    swiper.keyboard.enabled = true;\n  },\n  disable() {\n    const swiper = this;\n    if (!swiper.keyboard.enabled) return;\n    $(doc).off('keydown', swiper.keyboard.handle);\n    swiper.keyboard.enabled = false;\n  },\n};\n\nvar Keyboard$1 = {\n  name: 'keyboard',\n  params: {\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      keyboard: {\n        enabled: false,\n        enable: Keyboard.enable.bind(swiper),\n        disable: Keyboard.disable.bind(swiper),\n        handle: Keyboard.handle.bind(swiper),\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      if (swiper.params.keyboard.enabled) {\n        swiper.keyboard.enable();\n      }\n    },\n    destroy() {\n      const swiper = this;\n      if (swiper.keyboard.enabled) {\n        swiper.keyboard.disable();\n      }\n    },\n  },\n};\n\nfunction isEventSupported() {\n  const eventName = 'onwheel';\n  let isSupported = eventName in doc;\n\n  if (!isSupported) {\n    const element = doc.createElement('div');\n    element.setAttribute(eventName, 'return;');\n    isSupported = typeof element[eventName] === 'function';\n  }\n\n  if (!isSupported &&\n    doc.implementation &&\n    doc.implementation.hasFeature &&\n    // always returns true in newer browsers as per the standard.\n    // @see http://dom.spec.whatwg.org/#dom-domimplementation-hasfeature\n    doc.implementation.hasFeature('', '') !== true\n  ) {\n    // This is the only way to test support for the `wheel` event in IE9+.\n    isSupported = doc.implementation.hasFeature('Events.wheel', '3.0');\n  }\n\n  return isSupported;\n}\nconst Mousewheel = {\n  lastScrollTime: Utils.now(),\n  event: (function getEvent() {\n    if (win.navigator.userAgent.indexOf('firefox') > -1) return 'DOMMouseScroll';\n    return isEventSupported() ? 'wheel' : 'mousewheel';\n  }()),\n  normalize(e) {\n    // Reasonable defaults\n    const PIXEL_STEP = 10;\n    const LINE_HEIGHT = 40;\n    const PAGE_HEIGHT = 800;\n\n    let sX = 0;\n    let sY = 0; // spinX, spinY\n    let pX = 0;\n    let pY = 0; // pixelX, pixelY\n\n    // Legacy\n    if ('detail' in e) {\n      sY = e.detail;\n    }\n    if ('wheelDelta' in e) {\n      sY = -e.wheelDelta / 120;\n    }\n    if ('wheelDeltaY' in e) {\n      sY = -e.wheelDeltaY / 120;\n    }\n    if ('wheelDeltaX' in e) {\n      sX = -e.wheelDeltaX / 120;\n    }\n\n    // side scrolling on FF with DOMMouseScroll\n    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n      sX = sY;\n      sY = 0;\n    }\n\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n\n    if ('deltaY' in e) {\n      pY = e.deltaY;\n    }\n    if ('deltaX' in e) {\n      pX = e.deltaX;\n    }\n\n    if ((pX || pY) && e.deltaMode) {\n      if (e.deltaMode === 1) { // delta in LINE units\n        pX *= LINE_HEIGHT;\n        pY *= LINE_HEIGHT;\n      } else { // delta in PAGE units\n        pX *= PAGE_HEIGHT;\n        pY *= PAGE_HEIGHT;\n      }\n    }\n\n    // Fall-back if spin cannot be determined\n    if (pX && !sX) {\n      sX = (pX < 1) ? -1 : 1;\n    }\n    if (pY && !sY) {\n      sY = (pY < 1) ? -1 : 1;\n    }\n\n    return {\n      spinX: sX,\n      spinY: sY,\n      pixelX: pX,\n      pixelY: pY,\n    };\n  },\n  handle(event) {\n    let e = event;\n    const swiper = this;\n    const params = swiper.params.mousewheel;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n    let delta = 0;\n    const rtlFactor = swiper.rtl ? -1 : 1;\n\n    const data$$1 = Mousewheel.normalize(e);\n\n    if (params.forceToAxis) {\n      if (swiper.isHorizontal()) {\n        if (Math.abs(data$$1.pixelX) > Math.abs(data$$1.pixelY)) delta = data$$1.pixelX * rtlFactor;\n        else return true;\n      } else if (Math.abs(data$$1.pixelY) > Math.abs(data$$1.pixelX)) delta = data$$1.pixelY;\n      else return true;\n    } else {\n      delta = Math.abs(data$$1.pixelX) > Math.abs(data$$1.pixelY) ? -data$$1.pixelX * rtlFactor : -data$$1.pixelY;\n    }\n\n    if (delta === 0) return true;\n\n    if (params.invert) delta = -delta;\n\n    if (!swiper.params.freeMode) {\n      if (Utils.now() - swiper.mousewheel.lastScrollTime > 60) {\n        if (delta < 0) {\n          if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n            swiper.slideNext();\n            swiper.emit('scroll', e);\n          } else if (params.releaseOnEdges) return true;\n        } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n          swiper.slidePrev();\n          swiper.emit('scroll', e);\n        } else if (params.releaseOnEdges) return true;\n      }\n      swiper.mousewheel.lastScrollTime = (new win.Date()).getTime();\n    } else {\n      // Freemode or scrollContainer:\n      let position = swiper.getTranslate() + (delta * params.sensitivity);\n      const wasBeginning = swiper.isBeginning;\n      const wasEnd = swiper.isEnd;\n\n      if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n      if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n\n      swiper.setTransition(0);\n      swiper.setTranslate(position);\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n\n      if ((!wasBeginning && swiper.isBeginning) || (!wasEnd && swiper.isEnd)) {\n        swiper.updateSlidesClasses();\n      }\n\n      if (swiper.params.freeModeSticky) {\n        clearTimeout(swiper.mousewheel.timeout);\n        swiper.mousewheel.timeout = Utils.nextTick(() => {\n          swiper.slideReset();\n        }, 300);\n      }\n      // Emit event\n      swiper.emit('scroll', e);\n\n      // Stop autoplay\n      if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.stopAutoplay();\n\n      // Return page scroll on edge positions\n      if (position === 0 || position === swiper.maxTranslate()) return true;\n    }\n\n    if (e.preventDefault) e.preventDefault();\n    else e.returnValue = false;\n    return false;\n  },\n  enable() {\n    const swiper = this;\n    if (!Mousewheel.event) return false;\n    if (swiper.mousewheel.enabled) return false;\n    let target = swiper.$el;\n    if (swiper.params.mousewheel.eventsTarged !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarged);\n    }\n    target.on(Mousewheel.event, swiper.mousewheel.handle);\n    swiper.mousewheel.enabled = true;\n    return true;\n  },\n  disable() {\n    const swiper = this;\n    if (!Mousewheel.event) return false;\n    if (!swiper.mousewheel.enabled) return false;\n    let target = swiper.$el;\n    if (swiper.params.mousewheel.eventsTarged !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarged);\n    }\n    target.off(Mousewheel.event, swiper.mousewheel.handle);\n    swiper.mousewheel.enabled = false;\n    return true;\n  },\n};\n\nvar Mousewheel$1 = {\n  name: 'mousewheel',\n  params: {\n    mousewheel: {\n      enabled: false,\n      releaseOnEdges: false,\n      invert: false,\n      forceToAxis: false,\n      sensitivity: 1,\n      eventsTarged: 'container',\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      mousewheel: {\n        enabled: false,\n        enable: Mousewheel.enable.bind(swiper),\n        disable: Mousewheel.disable.bind(swiper),\n        handle: Mousewheel.handle.bind(swiper),\n        lastScrollTime: Utils.now(),\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      if (swiper.params.mousewheel.enabled) swiper.mousewheel.enable();\n    },\n    destroy() {\n      const swiper = this;\n      if (swiper.mousewheel.enabled) swiper.mousewheel.disable();\n    },\n  },\n};\n\nconst Navigation = {\n  update() {\n    // Update Navigation Buttons\n    const swiper = this;\n    const params = swiper.params.navigation;\n\n    if (swiper.params.loop) return;\n    const { $nextEl, $prevEl } = swiper.navigation;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        $prevEl.addClass(params.disabledClass);\n      } else {\n        $prevEl.removeClass(params.disabledClass);\n      }\n      $prevEl[swiper.params.watchOverflow && swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        $nextEl.addClass(params.disabledClass);\n      } else {\n        $nextEl.removeClass(params.disabledClass);\n      }\n      $nextEl[swiper.params.watchOverflow && swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  },\n  init() {\n    const swiper = this;\n    const params = swiper.params.navigation;\n    if (!(params.nextEl || params.prevEl)) return;\n\n    let $nextEl;\n    let $prevEl;\n    if (params.nextEl) {\n      $nextEl = $(params.nextEl);\n      if (\n        swiper.params.uniqueNavElements &&\n        typeof params.nextEl === 'string' &&\n        $nextEl.length > 1 &&\n        swiper.$el.find(params.nextEl).length === 1\n      ) {\n        $nextEl = swiper.$el.find(params.nextEl);\n      }\n    }\n    if (params.prevEl) {\n      $prevEl = $(params.prevEl);\n      if (\n        swiper.params.uniqueNavElements &&\n        typeof params.prevEl === 'string' &&\n        $prevEl.length > 1 &&\n        swiper.$el.find(params.prevEl).length === 1\n      ) {\n        $prevEl = swiper.$el.find(params.prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', (e) => {\n        e.preventDefault();\n        if (swiper.isEnd && !swiper.params.loop) return;\n        swiper.slideNext();\n      });\n    }\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', (e) => {\n        e.preventDefault();\n        if (swiper.isBeginning && !swiper.params.loop) return;\n        swiper.slidePrev();\n      });\n    }\n\n    Utils.extend(swiper.navigation, {\n      $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl,\n      prevEl: $prevEl && $prevEl[0],\n    });\n  },\n  destroy() {\n    const swiper = this;\n    const { $nextEl, $prevEl } = swiper.navigation;\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click');\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click');\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  },\n};\n\nvar Navigation$1 = {\n  name: 'navigation',\n  params: {\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock',\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      navigation: {\n        init: Navigation.init.bind(swiper),\n        update: Navigation.update.bind(swiper),\n        destroy: Navigation.destroy.bind(swiper),\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      swiper.navigation.init();\n      swiper.navigation.update();\n    },\n    toEdge() {\n      const swiper = this;\n      swiper.navigation.update();\n    },\n    fromEdge() {\n      const swiper = this;\n      swiper.navigation.update();\n    },\n    destroy() {\n      const swiper = this;\n      swiper.navigation.destroy();\n    },\n    click(e) {\n      const swiper = this;\n      const { $nextEl, $prevEl } = swiper.navigation;\n      if (\n        swiper.params.navigation.hideOnClick &&\n        !$(e.target).is($prevEl) &&\n        !$(e.target).is($nextEl)\n      ) {\n        if ($nextEl) $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n        if ($prevEl) $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n    },\n  },\n};\n\nconst Pagination = {\n  update() {\n    // Render || Update Pagination bullets/items\n    const swiper = this;\n    const rtl = swiper.rtl;\n    const params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el;\n    // Current/Total\n    let current;\n    const total = swiper.params.loop ? Math.ceil((slidesLength - (swiper.loopedSlides * 2)) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n      if (current > slidesLength - 1 - (swiper.loopedSlides * 2)) {\n        current -= (slidesLength - (swiper.loopedSlides * 2));\n      }\n      if (current > total - 1) current -= total;\n      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    }\n    // Types\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      const bullets = swiper.pagination.bullets;\n      if (params.dynamicBullets) {\n        swiper.pagination.bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', `${swiper.pagination.bulletSize * 5}px`);\n      }\n      bullets.removeClass(`${params.bulletActiveClass} ${params.bulletActiveClass}-next ${params.bulletActiveClass}-next-next ${params.bulletActiveClass}-prev ${params.bulletActiveClass}-prev-prev`);\n      if ($el.length > 1) {\n        bullets.each((index$$1, bullet) => {\n          const $bullet = $(bullet);\n          if ($bullet.index() === current) {\n            $bullet.addClass(params.bulletActiveClass);\n            if (params.dynamicBullets) {\n              $bullet\n                .prev()\n                .addClass(`${params.bulletActiveClass}-prev`)\n                .prev()\n                .addClass(`${params.bulletActiveClass}-prev-prev`);\n              $bullet\n                .next()\n                .addClass(`${params.bulletActiveClass}-next`)\n                .next()\n                .addClass(`${params.bulletActiveClass}-next-next`);\n            }\n          }\n        });\n      } else {\n        const $bullet = bullets.eq(current);\n        $bullet.addClass(params.bulletActiveClass);\n        if (params.dynamicBullets) {\n          $bullet\n            .prev()\n            .addClass(`${params.bulletActiveClass}-prev`)\n            .prev()\n            .addClass(`${params.bulletActiveClass}-prev-prev`);\n          $bullet\n            .next()\n            .addClass(`${params.bulletActiveClass}-next`)\n            .next()\n            .addClass(`${params.bulletActiveClass}-next-next`);\n        }\n      }\n      if (params.dynamicBullets) {\n        const dynamicBulletsLength = Math.min(bullets.length, 5);\n        const bulletsOffset = (((swiper.pagination.bulletSize * dynamicBulletsLength) - (swiper.pagination.bulletSize)) / 2) - (current * swiper.pagination.bulletSize);\n        const offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', `${bulletsOffset}px`);\n      }\n    }\n    if (params.type === 'fraction') {\n      $el.find(`.${params.currentClass}`).text(current + 1);\n      $el.find(`.${params.totalClass}`).text(total);\n    }\n    if (params.type === 'progressbar') {\n      const scale = (current + 1) / total;\n      let scaleX = scale;\n      let scaleY = 1;\n      if (!swiper.isHorizontal()) {\n        scaleY = scale;\n        scaleX = 1;\n      }\n      $el.find(`.${params.progressbarFillClass}`).transform(`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`).transition(swiper.params.speed);\n    }\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      swiper.emit('paginationRender', swiper, $el[0]);\n    } else {\n      swiper.emit('paginationUpdate', swiper, $el[0]);\n    }\n    $el[swiper.params.watchOverflow && swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n  },\n  render() {\n    // Render Container\n    const swiper = this;\n    const params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n\n    const $el = swiper.pagination.$el;\n    let paginationHTML = '';\n    if (params.type === 'bullets') {\n      const numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - (swiper.loopedSlides * 2)) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n      for (let i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += `<${params.bulletElement} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n        }\n      }\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find(`.${params.bulletClass}`);\n    }\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML =\n        `<span class=\"${params.currentClass}\"></span>` +\n        ' / ' +\n        `<span class=\"${params.totalClass}\"></span>`;\n      }\n      $el.html(paginationHTML);\n    }\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n      }\n      $el.html(paginationHTML);\n    }\n    if (params.type !== 'custom') {\n      swiper.emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  },\n  init() {\n    const swiper = this;\n    const params = swiper.params.pagination;\n    if (!params.el) return;\n\n    let $el = $(params.el);\n    if ($el.length === 0) return;\n\n    if (\n      swiper.params.uniqueNavElements &&\n      typeof params.el === 'string' &&\n      $el.length > 1 &&\n      swiper.$el.find(params.el).length === 1\n    ) {\n      $el = swiper.$el.find(params.el);\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass(`${params.modifierClass}${params.type}-dynamic`);\n    }\n\n    if (params.clickable) {\n      $el.on('click', `.${params.bulletClass}`, function onClick(e) {\n        e.preventDefault();\n        let index$$1 = $(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) index$$1 += swiper.loopedSlides;\n        swiper.slideTo(index$$1);\n      });\n    }\n\n    Utils.extend(swiper.pagination, {\n      $el,\n      el: $el[0],\n    });\n  },\n  destroy() {\n    const swiper = this;\n    const params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;\n    const $el = swiper.pagination.$el;\n\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    if (swiper.pagination.bullets) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n    if (params.clickable) {\n      $el.off('click', `.${params.bulletClass}`);\n    }\n  },\n};\n\nvar Pagination$1 = {\n  name: 'pagination',\n  params: {\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      type: 'bullets', // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n\n      bulletClass: 'swiper-pagination-bullet',\n      bulletActiveClass: 'swiper-pagination-bullet-active',\n      modifierClass: 'swiper-pagination-', // NEW\n      currentClass: 'swiper-pagination-current',\n      totalClass: 'swiper-pagination-total',\n      hiddenClass: 'swiper-pagination-hidden',\n      progressbarFillClass: 'swiper-pagination-progressbar-fill',\n      clickableClass: 'swiper-pagination-clickable', // NEW\n      lockClass: 'swiper-pagination-lock',\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      pagination: {\n        init: Pagination.init.bind(swiper),\n        render: Pagination.render.bind(swiper),\n        update: Pagination.update.bind(swiper),\n        destroy: Pagination.destroy.bind(swiper),\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      swiper.pagination.init();\n      swiper.pagination.render();\n      swiper.pagination.update();\n    },\n    activeIndexChange() {\n      const swiper = this;\n      if (swiper.params.loop) {\n        swiper.pagination.update();\n      } else if (typeof swiper.snapIndex === 'undefined') {\n        swiper.pagination.update();\n      }\n    },\n    snapIndexChange() {\n      const swiper = this;\n      if (!swiper.params.loop) {\n        swiper.pagination.update();\n      }\n    },\n    slidesLengthChange() {\n      const swiper = this;\n      if (swiper.params.loop) {\n        swiper.pagination.render();\n        swiper.pagination.update();\n      }\n    },\n    snapGridLengthChange() {\n      const swiper = this;\n      if (!swiper.params.loop) {\n        swiper.pagination.render();\n        swiper.pagination.update();\n      }\n    },\n    destroy() {\n      const swiper = this;\n      swiper.pagination.destroy();\n    },\n    click(e) {\n      const swiper = this;\n      if (\n        swiper.params.pagination.el &&\n        swiper.params.pagination.hideOnClick &&\n        swiper.pagination.$el.length > 0 &&\n        !$(e.target).hasClass(swiper.params.pagination.bulletClass)\n      ) {\n        swiper.pagination.$el.toggleClass(swiper.params.pagination.hiddenClass);\n      }\n    },\n  },\n};\n\nconst Scrollbar = {\n  setTranslate() {\n    const swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const { scrollbar, rtl, progress } = swiper;\n    const {\n      dragSize, trackSize, $dragEl, $el,\n    } = scrollbar;\n    const params = swiper.params.scrollbar;\n\n    let newSize = dragSize;\n    let newPos = (trackSize - dragSize) * progress;\n    if (rtl && swiper.isHorizontal()) {\n      newPos = -newPos;\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n    if (swiper.isHorizontal()) {\n      if (Support.transforms3d) {\n        $dragEl.transform(`translate3d(${newPos}px, 0, 0)`);\n      } else {\n        $dragEl.transform(`translateX(${newPos}px)`);\n      }\n      $dragEl[0].style.width = `${newSize}px`;\n    } else {\n      if (Support.transforms3d) {\n        $dragEl.transform(`translate3d(0px, ${newPos}px, 0)`);\n      } else {\n        $dragEl.transform(`translateY(${newPos}px)`);\n      }\n      $dragEl[0].style.height = `${newSize}px`;\n    }\n    if (params.hide) {\n      clearTimeout(swiper.scrollbar.timeout);\n      $el[0].style.opacity = 1;\n      swiper.scrollbar.timeout = setTimeout(() => {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  },\n  setTransition(duration) {\n    const swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  },\n  updateSize() {\n    const swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n\n    const { scrollbar } = swiper;\n    const { $dragEl, $el } = scrollbar;\n\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    const trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n\n    const divider = swiper.size / swiper.virtualSize;\n    const moveDivider = divider * (trackSize / swiper.size);\n    let dragSize;\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = `${dragSize}px`;\n    } else {\n      $dragEl[0].style.height = `${dragSize}px`;\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n    if (swiper.params.scrollbarHide) {\n      $el[0].style.opacity = 0;\n    }\n    Utils.extend(scrollbar, {\n      trackSize,\n      divider,\n      moveDivider,\n      dragSize,\n    });\n    scrollbar.$el[swiper.params.watchOverflow && swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n  },\n  setDragPosition(e) {\n    const swiper = this;\n    const { scrollbar } = swiper;\n    const { $el, dragSize, trackSize } = scrollbar;\n\n    let pointerPosition;\n    if (swiper.isHorizontal()) {\n      pointerPosition = ((e.type === 'touchstart' || e.type === 'touchmove') ? e.targetTouches[0].pageX : e.pageX || e.clientX);\n    } else {\n      pointerPosition = ((e.type === 'touchstart' || e.type === 'touchmove') ? e.targetTouches[0].pageY : e.pageY || e.clientY);\n    }\n    let positionRatio;\n    positionRatio = ((pointerPosition) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n    if (swiper.rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    const position = swiper.minTranslate() + ((swiper.maxTranslate() - swiper.minTranslate()) * positionRatio);\n\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  },\n  onDragStart(e) {\n    const swiper = this;\n    const params = swiper.params.scrollbar;\n    const { scrollbar, $wrapperEl } = swiper;\n    const { $el, $dragEl } = scrollbar;\n    swiper.scrollbar.isTouched = true;\n    e.preventDefault();\n    e.stopPropagation();\n\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    scrollbar.setDragPosition(e);\n\n    clearTimeout(swiper.scrollbar.dragTimeout);\n\n    $el.transition(0);\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n    swiper.emit('scrollbarDragStart', e);\n  },\n  onDragMove(e) {\n    const swiper = this;\n    const { scrollbar, $wrapperEl } = swiper;\n    const { $el, $dragEl } = scrollbar;\n\n    if (!swiper.scrollbar.isTouched) return;\n    if (e.preventDefault) e.preventDefault();\n    else e.returnValue = false;\n    scrollbar.setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    swiper.emit('scrollbarDragMove', e);\n  },\n  onDragEnd(e) {\n    const swiper = this;\n\n    const params = swiper.params.scrollbar;\n    const { scrollbar } = swiper;\n    const { $el } = scrollbar;\n\n    if (!swiper.scrollbar.isTouched) return;\n    swiper.scrollbar.isTouched = false;\n    if (params.hide) {\n      clearTimeout(swiper.scrollbar.dragTimeout);\n      swiper.scrollbar.dragTimeout = Utils.nextTick(() => {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n    swiper.emit('scrollbarDragEnd', e);\n    if (params.snapOnRelease) {\n      swiper.slideReset();\n    }\n  },\n  enableDraggable() {\n    const swiper = this;\n    if (!swiper.params.scrollbar.el) return;\n    const { scrollbar } = swiper;\n    const $el = scrollbar.$el;\n    const target = Support.touch ? $el[0] : document;\n    $el.on(swiper.scrollbar.dragEvents.start, swiper.scrollbar.onDragStart);\n    $(target).on(swiper.scrollbar.dragEvents.move, swiper.scrollbar.onDragMove);\n    $(target).on(swiper.scrollbar.dragEvents.end, swiper.scrollbar.onDragEnd);\n  },\n  disableDraggable() {\n    const swiper = this;\n    if (!swiper.params.scrollbar.el) return;\n    const { scrollbar } = swiper;\n    const $el = scrollbar.$el;\n    const target = Support.touch ? $el[0] : document;\n    $el.off(swiper.scrollbar.dragEvents.start);\n    $(target).off(swiper.scrollbar.dragEvents.move);\n    $(target).off(swiper.scrollbar.dragEvents.end);\n  },\n  init() {\n    const swiper = this;\n    if (!swiper.params.scrollbar.el) return;\n    const { scrollbar, $el: $swiperEl, touchEvents } = swiper;\n    const params = swiper.params.scrollbar;\n\n    let $el = $(params.el);\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    let $dragEl = $el.find('.swiper-scrollbar-drag');\n    if ($dragEl.length === 0) {\n      $dragEl = $('<div class=\"swiper-scrollbar-drag\"></div>');\n      $el.append($dragEl);\n    }\n\n    swiper.scrollbar.dragEvents = (function dragEvents() {\n      if ((swiper.params.simulateTouch === false && !Support.touch)) {\n        return {\n          start: 'mousedown',\n          move: 'mousemove',\n          end: 'mouseup',\n        };\n      }\n      return touchEvents;\n    }());\n\n    Utils.extend(scrollbar, {\n      $el,\n      el: $el[0],\n      $dragEl,\n      dragEl: $dragEl[0],\n    });\n\n    if (params.draggable) {\n      scrollbar.enableDraggable();\n    }\n  },\n  destroy() {\n    const swiper = this;\n    swiper.scrollbar.disableDraggable();\n  },\n};\n\nvar Scrollbar$1 = {\n  name: 'scrollbar',\n  params: {\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      scrollbar: {\n        init: Scrollbar.init.bind(swiper),\n        destroy: Scrollbar.destroy.bind(swiper),\n        updateSize: Scrollbar.updateSize.bind(swiper),\n        setTranslate: Scrollbar.setTranslate.bind(swiper),\n        setTransition: Scrollbar.setTransition.bind(swiper),\n        enableDraggable: Scrollbar.enableDraggable.bind(swiper),\n        disableDraggable: Scrollbar.disableDraggable.bind(swiper),\n        setDragPosition: Scrollbar.setDragPosition.bind(swiper),\n        onDragStart: Scrollbar.onDragStart.bind(swiper),\n        onDragMove: Scrollbar.onDragMove.bind(swiper),\n        onDragEnd: Scrollbar.onDragEnd.bind(swiper),\n        isTouched: false,\n        timeout: null,\n        dragTimeout: null,\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      swiper.scrollbar.init();\n      swiper.scrollbar.updateSize();\n      swiper.scrollbar.setTranslate();\n    },\n    update() {\n      const swiper = this;\n      swiper.scrollbar.updateSize();\n    },\n    resize() {\n      const swiper = this;\n      swiper.scrollbar.updateSize();\n    },\n    observerUpdate() {\n      const swiper = this;\n      swiper.scrollbar.updateSize();\n    },\n    setTranslate() {\n      const swiper = this;\n      swiper.scrollbar.setTranslate();\n    },\n    setTransition(duration) {\n      const swiper = this;\n      swiper.scrollbar.setTransition(duration);\n    },\n    destroy() {\n      const swiper = this;\n      swiper.scrollbar.destroy();\n    },\n  },\n};\n\nconst Parallax = {\n  setTransform(el, progress) {\n    const swiper = this;\n    const { rtl } = swiper;\n\n    const $el = $(el);\n    const rtlFactor = rtl ? -1 : 1;\n\n    const p = $el.attr('data-swiper-parallax') || '0';\n    let x = $el.attr('data-swiper-parallax-x');\n    let y = $el.attr('data-swiper-parallax-y');\n    const scale = $el.attr('data-swiper-parallax-scale');\n    const opacity = $el.attr('data-swiper-parallax-opacity');\n\n    if (x || y) {\n      x = x || '0';\n      y = y || '0';\n    } else if (swiper.isHorizontal()) {\n      x = p;\n      y = '0';\n    } else {\n      y = p;\n      x = '0';\n    }\n\n    if ((x).indexOf('%') >= 0) {\n      x = `${parseInt(x, 10) * progress * rtlFactor}%`;\n    } else {\n      x = `${x * progress * rtlFactor}px`;\n    }\n    if ((y).indexOf('%') >= 0) {\n      y = `${parseInt(y, 10) * progress}%`;\n    } else {\n      y = `${y * progress}px`;\n    }\n\n    if (typeof opacity !== 'undefined' && opacity !== null) {\n      const currentOpacity = opacity - ((opacity - 1) * (1 - Math.abs(progress)));\n      $el[0].style.opacity = currentOpacity;\n    }\n    if (typeof scale === 'undefined' || scale === null) {\n      $el.transform(`translate3d(${x}, ${y}, 0px)`);\n    } else {\n      const currentScale = scale - ((scale - 1) * (1 - Math.abs(progress)));\n      $el.transform(`translate3d(${x}, ${y}, 0px) scale(${currentScale})`);\n    }\n  },\n  setTranslate() {\n    const swiper = this;\n    const {\n      $el, slides, progress, snapGrid,\n    } = swiper;\n    $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]')\n      .each((index$$1, el) => {\n        swiper.parallax.setTransform(el, progress);\n      });\n    slides.each((slideIndex, slideEl) => {\n      let slideProgress = slideEl.progress;\n      if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n        slideProgress += Math.ceil(slideIndex / 2) - (progress * (snapGrid.length - 1));\n      }\n      slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n      $(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]')\n        .each((index$$1, el) => {\n          swiper.parallax.setTransform(el, slideProgress);\n        });\n    });\n  },\n  setTransition(duration = this.params.speed) {\n    const swiper = this;\n    const { $el } = swiper;\n    $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]')\n      .each((index$$1, parallaxEl) => {\n        const $parallaxEl = $(parallaxEl);\n        let parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n        if (duration === 0) parallaxDuration = 0;\n        $parallaxEl.transition(parallaxDuration);\n      });\n  },\n};\n\nvar Parallax$1 = {\n  name: 'parallax',\n  params: {\n    parallax: {\n      enabled: false,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      parallax: {\n        setTransform: Parallax.setTransform.bind(swiper),\n        setTranslate: Parallax.setTranslate.bind(swiper),\n        setTransition: Parallax.setTransition.bind(swiper),\n      },\n    });\n  },\n  on: {\n    beforeInit() {\n      const swiper = this;\n      swiper.params.watchSlidesProgress = true;\n    },\n    init() {\n      const swiper = this;\n      if (!swiper.params.parallax) return;\n      swiper.parallax.setTranslate();\n    },\n    setTranslate() {\n      const swiper = this;\n      if (!swiper.params.parallax) return;\n      swiper.parallax.setTranslate();\n    },\n    setTransition(duration) {\n      const swiper = this;\n      if (!swiper.params.parallax) return;\n      swiper.parallax.setTransition(duration);\n    },\n  },\n};\n\nconst Zoom = {\n  // Calc Scale From Multi-touches\n  getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    const x1 = e.targetTouches[0].pageX;\n    const y1 = e.targetTouches[0].pageY;\n    const x2 = e.targetTouches[1].pageX;\n    const y2 = e.targetTouches[1].pageY;\n    const distance = Math.sqrt(((x2 - x1) ** 2) + ((y2 - y1) ** 2));\n    return distance;\n  },\n  // Events\n  onGestureStart(e) {\n    const swiper = this;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n    const { gesture } = zoom;\n    zoom.fakeGestureTouched = false;\n    zoom.fakeGestureMoved = false;\n    if (!Support.gestures) {\n      if (e.type !== 'touchstart' || (e.type === 'touchstart' && e.targetTouches.length < 2)) {\n        return;\n      }\n      zoom.fakeGestureTouched = true;\n      gesture.scaleStart = Zoom.getDistanceBetweenTouches(e);\n    }\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $(this);\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n    gesture.$imageEl.transition(0);\n    swiper.zoom.isScaling = true;\n  },\n  onGestureChange(e) {\n    const swiper = this;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n    const { gesture } = zoom;\n    if (!Support.gestures) {\n      if (e.type !== 'touchmove' || (e.type === 'touchmove' && e.targetTouches.length < 2)) {\n        return;\n      }\n      zoom.fakeGestureMoved = true;\n      gesture.scaleMove = Zoom.getDistanceBetweenTouches(e);\n    }\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (Support.gestures) {\n      swiper.zoom.scale = e.scale * zoom.currentScale;\n    } else {\n      zoom.scale = (gesture.scaleMove / gesture.scaleStart) * zoom.currentScale;\n    }\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = (gesture.maxRatio - 1) + (((zoom.scale - gesture.maxRatio) + 1) ** 0.5);\n    }\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = (params.minRatio + 1) - (((params.minRatio - zoom.scale) + 1) ** 0.5);\n    }\n    gesture.$imageEl.transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  },\n  onGestureEnd(e) {\n    const swiper = this;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n    const { gesture } = zoom;\n    if (!Support.gestures) {\n      if (!zoom.fakeGestureTouched || !zoom.fakeGestureMoved) {\n        return;\n      }\n      if (e.type !== 'touchend' || (e.type === 'touchend' && e.changedTouches.length < 2 && !Device.android)) {\n        return;\n      }\n      zoom.fakeGestureTouched = false;\n      zoom.fakeGestureMoved = false;\n    }\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    zoom.currentScale = zoom.scale;\n    zoom.isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  },\n  onTouchStart(e) {\n    const swiper = this;\n    const zoom = swiper.zoom;\n    const { gesture, image } = zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (Device.android) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  },\n  onTouchMove(e) {\n    const swiper = this;\n    const zoom = swiper.zoom;\n    const { gesture, image, velocity } = zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = Utils.getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = Utils.getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n      if (swiper.rtl) image.startX = -image.startX;\n      if (swiper.rtl) image.startY = -image.startY;\n    }\n    // Define if we need image drag\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n\n    image.minX = Math.min(((gesture.slideWidth / 2) - (scaledWidth / 2)), 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(((gesture.slideHeight / 2) - (scaledHeight / 2)), 0);\n    image.maxY = -image.minY;\n\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !zoom.isScaling) {\n      if (\n        swiper.isHorizontal() &&\n        (\n          (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x) ||\n          (Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)\n        )\n      ) {\n        image.isTouched = false;\n        return;\n      } else if (\n        !swiper.isHorizontal() &&\n        (\n          (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y) ||\n          (Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)\n        )\n      ) {\n        image.isTouched = false;\n        return;\n      }\n    }\n    e.preventDefault();\n    e.stopPropagation();\n\n    image.isMoved = true;\n    image.currentX = (image.touchesCurrent.x - image.touchesStart.x) + image.startX;\n    image.currentY = (image.touchesCurrent.y - image.touchesStart.y) + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = (image.minX + 1) - (((image.minX - image.currentX) + 1) ** 0.8);\n    }\n    if (image.currentX > image.maxX) {\n      image.currentX = (image.maxX - 1) + (((image.currentX - image.maxX) + 1) ** 0.8);\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = (image.minY + 1) - (((image.minY - image.currentY) + 1) ** 0.8);\n    }\n    if (image.currentY > image.maxY) {\n      image.currentY = (image.maxY - 1) + (((image.currentY - image.maxY) + 1) ** 0.8);\n    }\n\n    // Velocity\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n\n    gesture.$imageWrapEl.transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  },\n  onTouchEnd() {\n    const swiper = this;\n    const zoom = swiper.zoom;\n    const { gesture, image, velocity } = zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n    image.isTouched = false;\n    image.isMoved = false;\n    let momentumDurationX = 300;\n    let momentumDurationY = 300;\n    const momentumDistanceX = velocity.x * momentumDurationX;\n    const newPositionX = image.currentX + momentumDistanceX;\n    const momentumDistanceY = velocity.y * momentumDurationY;\n    const newPositionY = image.currentY + momentumDistanceY;\n\n    // Fix duration\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    const momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n\n    image.currentX = newPositionX;\n    image.currentY = newPositionY;\n\n    // Define if we need image drag\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(((gesture.slideWidth / 2) - (scaledWidth / 2)), 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(((gesture.slideHeight / 2) - (scaledHeight / 2)), 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n\n    gesture.$imageWrapEl.transition(momentumDuration).transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  },\n  onTransitionEnd() {\n    const swiper = this;\n    const zoom = swiper.zoom;\n    const { gesture } = zoom;\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n\n      zoom.scale = 1;\n      zoom.currentScale = 1;\n    }\n  },\n  // Toggle Zoom\n  toggle(e) {\n    const swiper = this;\n    const zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoom.out();\n    } else {\n      // Zoom In\n      zoom.in(e);\n    }\n  },\n  in(e) {\n    const swiper = this;\n\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n    const { gesture, image } = zoom;\n\n    if (!gesture.$slideEl) {\n      gesture.$slideEl = swiper.clickedSlide ? $(swiper.clickedSlide) : swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    gesture.$slideEl.addClass(`${params.zoomedSlideClass}`);\n\n    let touchX;\n    let touchY;\n    let offsetX;\n    let offsetY;\n    let diffX;\n    let diffY;\n    let translateX;\n    let translateY;\n    let imageWidth;\n    let imageHeight;\n    let scaledWidth;\n    let scaledHeight;\n    let translateMinX;\n    let translateMinY;\n    let translateMaxX;\n    let translateMaxY;\n    let slideWidth;\n    let slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    zoom.currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left;\n      offsetY = gesture.$slideEl.offset().top;\n      diffX = (offsetX + (slideWidth / 2)) - touchX;\n      diffY = (offsetY + (slideHeight / 2)) - touchY;\n\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n\n      translateMinX = Math.min(((slideWidth / 2) - (scaledWidth / 2)), 0);\n      translateMinY = Math.min(((slideHeight / 2) - (scaledHeight / 2)), 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n    gesture.$imageWrapEl.transition(300).transform(`translate3d(${translateX}px, ${translateY}px,0)`);\n    gesture.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  },\n  out() {\n    const swiper = this;\n\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n    const { gesture } = zoom;\n\n    if (!gesture.$slideEl) {\n      gesture.$slideEl = swiper.clickedSlide ? $(swiper.clickedSlide) : swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    zoom.scale = 1;\n    zoom.currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(`${params.zoomedSlideClass}`);\n    gesture.$slideEl = undefined;\n  },\n  // Attach/Detach Events\n  enable() {\n    const swiper = this;\n    const zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n\n    const slides = swiper.slides;\n\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && Support.passiveListener && swiper.params.passiveListeners ? { passive: true, capture: false } : false;\n\n    // Scale image\n    if (Support.gestures) {\n      slides.on('gesturestart', zoom.onGestureStart, passiveListener);\n      slides.on('gesturechange', zoom.onGestureChange, passiveListener);\n      slides.on('gestureend', zoom.onGestureEnd, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      slides.on(swiper.touchEvents.start, zoom.onGestureStart, passiveListener);\n      slides.on(swiper.touchEvents.move, zoom.onGestureChange, passiveListener);\n      slides.on(swiper.touchEvents.end, zoom.onGestureEnd, passiveListener);\n    }\n\n    // Move image\n    swiper.slides.each((index$$1, slideEl) => {\n      const $slideEl = $(slideEl);\n      if ($slideEl.find(`.${swiper.params.zoom.containerClass}`).length > 0) {\n        $slideEl.on(swiper.touchEvents.move, zoom.onTouchMove);\n      }\n    });\n  },\n  disable() {\n    const swiper = this;\n    const zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n\n    swiper.zoom.enabled = false;\n\n    const slides = swiper.slides;\n\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && Support.passiveListener && swiper.params.passiveListeners ? { passive: true, capture: false } : false;\n\n    // Scale image\n    if (Support.gestures) {\n      slides.off('gesturestart', zoom.onGestureStart, passiveListener);\n      slides.off('gesturechange', zoom.onGestureChange, passiveListener);\n      slides.off('gestureend', zoom.onGestureEnd, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      slides.off(swiper.touchEvents.start, zoom.onGestureStart, passiveListener);\n      slides.off(swiper.touchEvents.move, zoom.onGestureChange, passiveListener);\n      slides.off(swiper.touchEvents.end, zoom.onGestureEnd, passiveListener);\n    }\n\n    // Move image\n    swiper.slides.each((index$$1, slideEl) => {\n      const $slideEl = $(slideEl);\n      if ($slideEl.find(`.${swiper.params.zoom.containerClass}`).length > 0) {\n        $slideEl.off(swiper.touchEvents.move, zoom.onTouchMove);\n      }\n    });\n  },\n};\n\nvar Zoom$1 = {\n  name: 'zoom',\n  params: {\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed',\n    },\n  },\n  create() {\n    const swiper = this;\n    const zoom = {\n      enabled: false,\n      scale: 1,\n      currentScale: 1,\n      isScaling: false,\n      gesture: {\n        $slideEl: undefined,\n        slideWidth: undefined,\n        slideHeight: undefined,\n        $imageEl: undefined,\n        $imageWrapEl: undefined,\n        maxRatio: 3,\n      },\n      image: {\n        isTouched: undefined,\n        isMoved: undefined,\n        currentX: undefined,\n        currentY: undefined,\n        minX: undefined,\n        minY: undefined,\n        maxX: undefined,\n        maxY: undefined,\n        width: undefined,\n        height: undefined,\n        startX: undefined,\n        startY: undefined,\n        touchesStart: {},\n        touchesCurrent: {},\n      },\n      velocity: {\n        x: undefined,\n        y: undefined,\n        prevPositionX: undefined,\n        prevPositionY: undefined,\n        prevTime: undefined,\n      },\n    };\n    ('onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out').split(' ').forEach((methodName) => {\n      zoom[methodName] = Zoom[methodName].bind(swiper);\n    });\n    Utils.extend(swiper, {\n      zoom,\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      if (swiper.params.zoom.enabled) {\n        swiper.zoom.enable();\n      }\n    },\n    destroy() {\n      const swiper = this;\n      swiper.zoom.disable();\n    },\n    touchStart(e) {\n      const swiper = this;\n      if (!swiper.zoom.enabled) return;\n      swiper.zoom.onTouchStart(e);\n    },\n    touchEnd(e) {\n      const swiper = this;\n      if (!swiper.zoom.enabled) return;\n      swiper.zoom.onTouchEnd(e);\n    },\n    doubleTap(e) {\n      const swiper = this;\n      if (swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n        swiper.zoom.toggle(e);\n      }\n    },\n    transitionEnd() {\n      const swiper = this;\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n        swiper.zoom.onTransitionEnd();\n      }\n    },\n  },\n};\n\nconst Lazy = {\n  loadInSlide(index$$1, loadInDuplicate = true) {\n    const swiper = this;\n    const params = swiper.params.lazy;\n    if (typeof index$$1 === 'undefined') return;\n    if (swiper.slides.length === 0) return;\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n    const $slideEl = isVirtual\n      ? swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${index$$1}\"]`)\n      : swiper.slides.eq(index$$1);\n\n    let $images = $slideEl.find(`.${params.elementClass}:not(.${params.loadedClass}):not(.${params.loadingClass})`);\n    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n      $images = $images.add($slideEl[0]);\n    }\n    if ($images.length === 0) return;\n\n    $images.each((imageIndex, imageEl) => {\n      const $imageEl = $(imageEl);\n      $imageEl.addClass(params.loadingClass);\n\n      const background = $imageEl.attr('data-background');\n      const src = $imageEl.attr('data-src');\n      const srcset = $imageEl.attr('data-srcset');\n      const sizes = $imageEl.attr('data-sizes');\n\n      swiper.loadImage($imageEl[0], (src || background), srcset, sizes, false, () => {\n        if (typeof swiper === 'undefined' || swiper === null || !swiper || (swiper && !swiper.params) || swiper.destroyed) return;\n        if (background) {\n          $imageEl.css('background-image', `url(\"${background}\")`);\n          $imageEl.removeAttr('data-background');\n        } else {\n          if (srcset) {\n            $imageEl.attr('srcset', srcset);\n            $imageEl.removeAttr('data-srcset');\n          }\n          if (sizes) {\n            $imageEl.attr('sizes', sizes);\n            $imageEl.removeAttr('data-sizes');\n          }\n          if (src) {\n            $imageEl.attr('src', src);\n            $imageEl.removeAttr('data-src');\n          }\n        }\n\n        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n        $slideEl.find(`.${params.preloaderClass}`).remove();\n        if (swiper.params.loop && loadInDuplicate) {\n          const slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n            const originalSlide = swiper.$wrapperEl.children(`[data-swiper-slide-index=\"${slideOriginalIndex}\"]:not(.${swiper.params.slideDuplicateClass})`);\n            swiper.lazy.loadInSlide(originalSlide.index(), false);\n          } else {\n            const duplicatedSlide = swiper.$wrapperEl.children(`.${swiper.params.slideDuplicateClass}[data-swiper-slide-index=\"${slideOriginalIndex}\"]`);\n            swiper.lazy.loadInSlide(duplicatedSlide.index(), false);\n          }\n        }\n        swiper.emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n      });\n\n      swiper.emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n    });\n  },\n  load() {\n    const swiper = this;\n    const {\n      $wrapperEl, params: swiperParams, slides, activeIndex,\n    } = swiper;\n    const isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n    const params = swiperParams.lazy;\n\n    let slidesPerView = swiperParams.slidesPerView;\n    if (slidesPerView === 'auto') {\n      slidesPerView = 0;\n    }\n\n    function slideExist(index$$1) {\n      if (isVirtual) {\n        if ($wrapperEl.children(`.${swiperParams.slideClass}[data-swiper-slide-index=\"${index$$1}\"]`).length) {\n          return true;\n        }\n      } else if (slides[index$$1]) return true;\n      return false;\n    }\n    function slideIndex(slideEl) {\n      if (isVirtual) {\n        return $(slideEl).attr('data-swiper-slide-index');\n      }\n      return $(slideEl).index();\n    }\n\n    if (!swiper.lazy.initialImageLoaded) swiper.lazy.initialImageLoaded = true;\n    if (swiper.params.watchSlidesVisibility) {\n      $wrapperEl.children(`.${swiperParams.slideVisibleClass}`).each((elIndex, slideEl) => {\n        const index$$1 = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n        swiper.lazy.loadInSlide(index$$1);\n      });\n    } else if (slidesPerView > 1) {\n      for (let i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n        if (slideExist(i)) swiper.lazy.loadInSlide(i);\n      }\n    } else {\n      swiper.lazy.loadInSlide(activeIndex);\n    }\n    if (params.loadPrevNext) {\n      if (slidesPerView > 1 || (params.loadPrevNextAmount && params.loadPrevNextAmount > 1)) {\n        const amount = params.loadPrevNextAmount;\n        const spv = slidesPerView;\n        const maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n        const minIndex = Math.max(activeIndex - Math.max(spv, amount), 0);\n        // Next Slides\n        for (let i = activeIndex + slidesPerView; i < maxIndex; i += 1) {\n          if (slideExist(i)) swiper.lazy.loadInSlide(i);\n        }\n        // Prev Slides\n        for (let i = minIndex; i < activeIndex; i += 1) {\n          if (slideExist(i)) swiper.lazy.loadInSlide(i);\n        }\n      } else {\n        const nextSlide = $wrapperEl.children(`.${swiperParams.slideNextClass}`);\n        if (nextSlide.length > 0) swiper.lazy.loadInSlide(slideIndex(nextSlide));\n\n        const prevSlide = $wrapperEl.children(`.${swiperParams.slidePrevClass}`);\n        if (prevSlide.length > 0) swiper.lazy.loadInSlide(slideIndex(prevSlide));\n      }\n    }\n  },\n};\n\nvar Lazy$1 = {\n  name: 'lazy',\n  params: {\n    lazy: {\n      enabled: false,\n      loadPrevNext: false,\n      loadPrevNextAmount: 1,\n      loadOnTransitionStart: false,\n\n      elementClass: 'swiper-lazy',\n      loadingClass: 'swiper-lazy-loading',\n      loadedClass: 'swiper-lazy-loaded',\n      preloaderClass: 'swiper-lazy-preloader',\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      lazy: {\n        initialImageLoaded: false,\n        load: Lazy.load.bind(swiper),\n        loadInSlide: Lazy.loadInSlide.bind(swiper),\n      },\n    });\n  },\n  on: {\n    beforeInit() {\n      const swiper = this;\n      if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n        swiper.params.preloadImages = false;\n      }\n    },\n    init() {\n      const swiper = this;\n      if (swiper.params.lazy.enabled && !swiper.params.loop && swiper.params.initialSlide === 0) {\n        swiper.lazy.load();\n      }\n    },\n    scroll() {\n      const swiper = this;\n      if (swiper.params.freeMode && !swiper.params.freeModeSticky) {\n        swiper.lazy.load();\n      }\n    },\n    resize() {\n      const swiper = this;\n      if (swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n    },\n    scrollbarDragMove() {\n      const swiper = this;\n      if (swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n    },\n    transitionStart() {\n      const swiper = this;\n      if (swiper.params.lazy.enabled) {\n        if (swiper.params.lazy.loadOnTransitionStart || (!swiper.params.lazy.loadOnTransitionStart && !swiper.lazy.initialImageLoaded)) {\n          swiper.lazy.load();\n        }\n      }\n    },\n    transitionEnd() {\n      const swiper = this;\n      if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n        swiper.lazy.load();\n      }\n    },\n  },\n};\n\n/* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\nconst Controller = {\n  LinearSpline: function LinearSpline(x, y) {\n    const binarySearch = (function search() {\n      let maxIndex;\n      let minIndex;\n      let guess;\n      return (array, val) => {\n        minIndex = -1;\n        maxIndex = array.length;\n        while (maxIndex - minIndex > 1) {\n          guess = maxIndex + minIndex >> 1;\n          if (array[guess] <= val) {\n            minIndex = guess;\n          } else {\n            maxIndex = guess;\n          }\n        }\n        return maxIndex;\n      };\n    }());\n    this.x = x;\n    this.y = y;\n    this.lastIndex = x.length - 1;\n    // Given an x value (x2), return the expected y2 value:\n    // (x1,y1) is the known point before given value,\n    // (x3,y3) is the known point after given value.\n    let i1;\n    let i3;\n\n    this.interpolate = function interpolate(x2) {\n      if (!x2) return 0;\n\n      // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n      i3 = binarySearch(this.x, x2);\n      i1 = i3 - 1;\n\n      // We have our indexes i1 & i3, so we can calculate already:\n      // y2 := ((x2x1)  (y3y1))  (x3x1) + y1\n      return (((x2 - this.x[i1]) * (this.y[i3] - this.y[i1])) / (this.x[i3] - this.x[i1])) + this.y[i1];\n    };\n    return this;\n  },\n  // xxx: for now i will just save one spline function to to\n  getInterpolateFunction(c) {\n    const swiper = this;\n    if (!swiper.controller.spline) {\n      swiper.controller.spline = swiper.params.loop ?\n        new Controller.LinearSpline(swiper.slidesGrid, c.slidesGrid) :\n        new Controller.LinearSpline(swiper.snapGrid, c.snapGrid);\n    }\n  },\n  setTranslate(setTranslate, byController) {\n    const swiper = this;\n    const controlled = swiper.controller.control;\n    let multiplier;\n    let controlledTranslate;\n    function setControlledTranslate(c) {\n      // this will create an Interpolate function based on the snapGrids\n      // x is the Grid of the scrolled scroller and y will be the controlled scroller\n      // it makes sense to create this only once and recall it for the interpolation\n      // the function does a lot of value caching for performance\n      const translate = c.rtl && c.params.direction === 'horizontal' ? -swiper.translate : swiper.translate;\n      if (swiper.params.controller.by === 'slide') {\n        swiper.controller.getInterpolateFunction(c);\n        // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n        // but it did not work out\n        controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n      }\n\n      if (!controlledTranslate || swiper.params.controller.by === 'container') {\n        multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n        controlledTranslate = ((translate - swiper.minTranslate()) * multiplier) + c.minTranslate();\n      }\n\n      if (swiper.params.controller.inverse) {\n        controlledTranslate = c.maxTranslate() - controlledTranslate;\n      }\n      c.updateProgress(controlledTranslate);\n      c.setTranslate(controlledTranslate, swiper);\n      c.updateActiveIndex();\n      c.updateSlidesClasses();\n    }\n    if (Array.isArray(controlled)) {\n      for (let i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper$1) {\n          setControlledTranslate(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper$1 && byController !== controlled) {\n      setControlledTranslate(controlled);\n    }\n  },\n  setTransition(duration, byController) {\n    const swiper = this;\n    const controlled = swiper.controller.control;\n    let i;\n    function setControlledTransition(c) {\n      c.setTransition(duration, swiper);\n      if (duration !== 0) {\n        c.transitionStart();\n        c.$wrapperEl.transitionEnd(() => {\n          if (!controlled) return;\n          if (c.params.loop && swiper.params.controller.by === 'slide') {\n            c.loopFix();\n          }\n          c.transitionEnd();\n        });\n      }\n    }\n    if (Array.isArray(controlled)) {\n      for (i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper$1) {\n          setControlledTransition(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper$1 && byController !== controlled) {\n      setControlledTransition(controlled);\n    }\n  },\n};\nvar Controller$1 = {\n  name: 'controller',\n  params: {\n    controller: {\n      control: undefined,\n      inverse: false,\n      by: 'slide', // or 'container'\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      controller: {\n        control: swiper.params.controller.control,\n        getInterpolateFunction: Controller.getInterpolateFunction.bind(swiper),\n        setTranslate: Controller.setTranslate.bind(swiper),\n        setTransition: Controller.setTransition.bind(swiper),\n      },\n    });\n  },\n  on: {\n    update() {\n      const swiper = this;\n      if (!swiper.controller.control) return;\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    },\n    resize() {\n      const swiper = this;\n      if (!swiper.controller.control) return;\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    },\n    observerUpdate() {\n      const swiper = this;\n      if (!swiper.controller.control) return;\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    },\n    setTranslate(translate, byController) {\n      const swiper = this;\n      if (!swiper.controller.control) return;\n      swiper.controller.setTranslate(translate, byController);\n    },\n    setTransition(duration, byController) {\n      const swiper = this;\n      if (!swiper.controller.control) return;\n      swiper.controller.setTransition(duration, byController);\n    },\n  },\n};\n\nconst a11y = {\n  makeElFocusable($el) {\n    $el.attr('tabIndex', '0');\n    return $el;\n  },\n  addElRole($el, role) {\n    $el.attr('role', role);\n    return $el;\n  },\n  addElLabel($el, label) {\n    $el.attr('aria-label', label);\n    return $el;\n  },\n  disableEl($el) {\n    $el.attr('aria-disabled', true);\n    return $el;\n  },\n  enableEl($el) {\n    $el.attr('aria-disabled', false);\n    return $el;\n  },\n  onEnterKey(e) {\n    const swiper = this;\n    const params = swiper.params.a11y;\n    if (e.keyCode !== 13) return;\n    const $targetEl = $(e.target);\n    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n      if (swiper.isEnd) {\n        swiper.a11y.notify(params.lastSlideMessage);\n      } else {\n        swiper.a11y.notify(params.nextSlideMessage);\n      }\n    }\n    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n      if (swiper.isBeginning) {\n        swiper.a11y.notify(params.firstSlideMessage);\n      } else {\n        swiper.a11y.notify(params.prevSlideMessage);\n      }\n    }\n    if (swiper.pagination && $targetEl.is(`.${swiper.params.pagination.bulletClass}`)) {\n      $targetEl[0].click();\n    }\n  },\n  notify(message) {\n    const swiper = this;\n    const notification = swiper.a11y.liveRegion;\n    if (notification.length === 0) return;\n    notification.html('');\n    notification.html(message);\n  },\n  updateNavigation() {\n    const swiper = this;\n\n    if (swiper.params.loop) return;\n    const { $nextEl, $prevEl } = swiper.navigation;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        swiper.a11y.disableEl($prevEl);\n      } else {\n        swiper.a11y.enableEl($prevEl);\n      }\n    }\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        swiper.a11y.disableEl($nextEl);\n      } else {\n        swiper.a11y.enableEl($nextEl);\n      }\n    }\n  },\n  updatePagination() {\n    const swiper = this;\n    const params = swiper.params.a11y;\n    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {\n      swiper.pagination.bullets.each((bulletIndex, bulletEl) => {\n        const $bulletEl = $(bulletEl);\n        swiper.a11y.makeElFocusable($bulletEl);\n        swiper.a11y.addElRole($bulletEl, 'button');\n        swiper.a11y.addElLabel($bulletEl, params.paginationBulletMessage.replace(/{{index}}/, $bulletEl.index() + 1));\n      });\n    }\n  },\n  init() {\n    const swiper = this;\n\n    swiper.$el.append(swiper.a11y.liveRegion);\n\n    // Navigation\n    const params = swiper.params.a11y;\n    let $nextEl;\n    let $prevEl;\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n    if ($nextEl) {\n      swiper.a11y.makeElFocusable($nextEl);\n      swiper.a11y.addElRole($nextEl, 'button');\n      swiper.a11y.addElLabel($nextEl, params.nextSlideMessage);\n      $nextEl.on('keydown', swiper.a11y.onEnterKey);\n    }\n    if ($prevEl) {\n      swiper.a11y.makeElFocusable($prevEl);\n      swiper.a11y.addElRole($prevEl, 'button');\n      swiper.a11y.addElLabel($prevEl, params.prevSlideMessage);\n      $prevEl.on('keydown', swiper.a11y.onEnterKey);\n    }\n\n    // Pagination\n    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {\n      swiper.pagination.$el.on('keydown', `.${swiper.params.pagination.bulletClass}`, swiper.a11y.onEnterKey);\n    }\n  },\n  destroy() {\n    const swiper = this;\n    if (swiper.a11y.liveRegion && swiper.a11y.liveRegion.length > 0) swiper.a11y.liveRegion.remove();\n\n    let $nextEl;\n    let $prevEl;\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n    if ($nextEl) {\n      $nextEl.off('keydown', swiper.a11y.onEnterKey);\n    }\n    if ($prevEl) {\n      $prevEl.off('keydown', swiper.a11y.onEnterKey);\n    }\n\n    // Pagination\n    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {\n      swiper.pagination.$el.off('keydown', `.${swiper.params.pagination.bulletClass}`, swiper.a11y.onEnterKey);\n    }\n  },\n};\nvar A11y = {\n  name: 'a11y',\n  params: {\n    a11y: {\n      enabled: false,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      a11y: {\n        liveRegion: $(`<span class=\"${swiper.params.a11y.notificationClass}\" aria-live=\"assertive\" aria-atomic=\"true\"></span>`),\n      },\n    });\n    Object.keys(a11y).forEach((methodName) => {\n      swiper.a11y[methodName] = a11y[methodName].bind(swiper);\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.init();\n      swiper.a11y.updateNavigation();\n    },\n    toEdge() {\n      const swiper = this;\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.updateNavigation();\n    },\n    fromEdge() {\n      const swiper = this;\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.updateNavigation();\n    },\n    paginationUpdate() {\n      const swiper = this;\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.updatePagination();\n    },\n    destroy() {\n      const swiper = this;\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.destroy();\n    },\n  },\n};\n\nconst History = {\n  init() {\n    const swiper = this;\n    if (!swiper.params.history) return;\n    if (!win.history || !win.history.pushState) {\n      swiper.params.history.enabled = false;\n      swiper.params.hashNavigation.enabled = true;\n      return;\n    }\n    const history = swiper.history;\n    history.initialized = true;\n    history.paths = History.getPathValues();\n    if (!history.paths.key && !history.paths.value) return;\n    history.scrollToSlide(0, history.paths.value, swiper.params.runCallbacksOnInit);\n    if (!swiper.params.history.replaceState) {\n      win.addEventListener('popstate', swiper.history.setHistoryPopState);\n    }\n  },\n  destroy() {\n    const swiper = this;\n    if (!swiper.params.history.replaceState) {\n      win.removeEventListener('popstate', swiper.history.setHistoryPopState);\n    }\n  },\n  setHistoryPopState() {\n    const swiper = this;\n    swiper.history.paths = History.getPathValues();\n    swiper.history.scrollToSlide(swiper.params.speed, swiper.history.paths.value, false);\n  },\n  getPathValues() {\n    const pathArray = win.location.pathname.slice(1).split('/').filter(part => part !== '');\n    const total = pathArray.length;\n    const key = pathArray[total - 2];\n    const value = pathArray[total - 1];\n    return { key, value };\n  },\n  setHistory(key, index$$1) {\n    const swiper = this;\n    if (!swiper.history.initialized || !swiper.params.history.enabled) return;\n    const slide = swiper.slides.eq(index$$1);\n    let value = History.slugify(slide.attr('data-history'));\n    if (!win.location.pathname.includes(key)) {\n      value = `${key}/${value}`;\n    }\n    const currentState = win.history.state;\n    if (currentState && currentState.value === value) {\n      return;\n    }\n    if (swiper.params.history.replaceState) {\n      win.history.replaceState({ value }, null, value);\n    } else {\n      win.history.pushState({ value }, null, value);\n    }\n  },\n  slugify(text$$1) {\n    return text$$1.toString().toLowerCase()\n      .replace(/\\s+/g, '-')\n      .replace(/[^\\w-]+/g, '')\n      .replace(/--+/g, '-')\n      .replace(/^-+/, '')\n      .replace(/-+$/, '');\n  },\n  scrollToSlide(speed, value, runCallbacks) {\n    const swiper = this;\n    if (value) {\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHistory = History.slugify(slide.attr('data-history'));\n        if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index$$1 = slide.index();\n          swiper.slideTo(index$$1, speed, runCallbacks);\n        }\n      }\n    } else {\n      swiper.slideTo(0, speed, runCallbacks);\n    }\n  },\n};\n\nvar History$1 = {\n  name: 'history',\n  params: {\n    history: {\n      enabled: false,\n      replaceState: false,\n      key: 'slides',\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      history: {\n        init: History.init.bind(swiper),\n        setHistory: History.setHistory.bind(swiper),\n        setHistoryPopState: History.setHistoryPopState.bind(swiper),\n        scrollToSlide: History.scrollToSlide.bind(swiper),\n        destroy: History.destroy.bind(swiper),\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      if (swiper.params.history.enabled) {\n        swiper.history.init();\n      }\n    },\n    destroy() {\n      const swiper = this;\n      if (swiper.params.history.enabled) {\n        swiper.history.destroy();\n      }\n    },\n    transitionEnd() {\n      const swiper = this;\n      if (swiper.history.initialized) {\n        swiper.history.setHistory(swiper.params.history.key, swiper.activeIndex);\n      }\n    },\n  },\n};\n\nconst HashNavigation = {\n  onHashCange() {\n    const swiper = this;\n    const newHash = doc.location.hash.replace('#', '');\n    const activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n    if (newHash !== activeSlideHash) {\n      swiper.slideTo(swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-hash=\"${newHash}\"]`).index());\n    }\n  },\n  setHash() {\n    const swiper = this;\n    if (!swiper.hashNavigation.initialized || !swiper.params.hashNavigation.enabled) return;\n    if (swiper.params.hashNavigation.replaceState && win.history && win.history.replaceState) {\n      win.history.replaceState(null, null, (`#${swiper.slides.eq(swiper.activeIndex).attr('data-hash')}` || ''));\n    } else {\n      const slide = swiper.slides.eq(swiper.activeIndex);\n      const hash = slide.attr('data-hash') || slide.attr('data-history');\n      doc.location.hash = hash || '';\n    }\n  },\n  init() {\n    const swiper = this;\n    if (!swiper.params.hashNavigation.enabled || (swiper.params.history && swiper.params.history.enabled)) return;\n    swiper.hashNavigation.initialized = true;\n    const hash = doc.location.hash.replace('#', '');\n    if (hash) {\n      const speed = 0;\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHash = slide.attr('data-hash') || slide.attr('data-history');\n        if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index$$1 = slide.index();\n          swiper.slideTo(index$$1, speed, swiper.params.runCallbacksOnInit, true);\n        }\n      }\n    }\n    if (swiper.params.hashNavigation.watchState) {\n      $(win).on('hashchange', swiper.hashNavigation.onHashCange);\n    }\n  },\n  destroy() {\n    const swiper = this;\n    if (swiper.params.hashNavigation.watchState) {\n      $(win).off('hashchange', swiper.hashNavigation.onHashCange);\n    }\n  },\n};\nvar HashNavigation$1 = {\n  name: 'hash-navigation',\n  params: {\n    hashNavigation: {\n      enabled: false,\n      replaceState: false,\n      watchState: false,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      hashNavigation: {\n        initialized: false,\n        init: HashNavigation.init.bind(swiper),\n        destroy: HashNavigation.destroy.bind(swiper),\n        setHash: HashNavigation.setHash.bind(swiper),\n        onHashCange: HashNavigation.onHashCange.bind(swiper),\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      if (swiper.params.hashNavigation.enabled) {\n        swiper.hashNavigation.init();\n      }\n    },\n    destroy() {\n      const swiper = this;\n      if (swiper.params.hashNavigation.enabled) {\n        swiper.hashNavigation.destroy();\n      }\n    },\n    transitionEnd() {\n      const swiper = this;\n      if (swiper.hashNavigation.initialized) {\n        swiper.hashNavigation.setHash();\n      }\n    },\n  },\n};\n\nconst Autoplay = {\n  run() {\n    const swiper = this;\n    const $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    let delay = swiper.params.autoplay.delay;\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n    swiper.autoplay.timeout = Utils.nextTick(() => {\n      if (swiper.params.autoplay.reverseDirection) {\n        if (swiper.params.loop) {\n          swiper.loopFix();\n          swiper.slidePrev(swiper.params.speed, true, true);\n          swiper.emit('autoplay');\n        } else if (!swiper.isBeginning) {\n          swiper.slidePrev(swiper.params.speed, true, true);\n          swiper.emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n          swiper.emit('autoplay');\n        } else {\n          swiper.autoplay.stop();\n        }\n      } else if (swiper.params.loop) {\n        swiper.loopFix();\n        swiper.slideNext(swiper.params.speed, true, true);\n        swiper.emit('autoplay');\n      } else if (!swiper.isEnd) {\n        swiper.slideNext(swiper.params.speed, true, true);\n        swiper.emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        swiper.slideTo(0, swiper.params.speed, true, true);\n        swiper.emit('autoplay');\n      } else {\n        swiper.autoplay.stop();\n      }\n    }, delay);\n  },\n  start() {\n    const swiper = this;\n    if (typeof swiper.autoplay.timeout !== 'undefined') return false;\n    if (swiper.autoplay.running) return false;\n    swiper.autoplay.running = true;\n    swiper.emit('autoplayStart');\n    swiper.autoplay.run();\n    return true;\n  },\n  stop() {\n    const swiper = this;\n    if (!swiper.autoplay.running) return false;\n    if (typeof swiper.autoplay.timeout === 'undefined') return false;\n\n    if (swiper.autoplay.timeout) {\n      clearTimeout(swiper.autoplay.timeout);\n      swiper.autoplay.timeout = undefined;\n    }\n    swiper.autoplay.running = false;\n    swiper.emit('autoplayStop');\n    return true;\n  },\n  pause(speed) {\n    const swiper = this;\n    if (!swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) return;\n    if (swiper.autoplay.timeout) clearTimeout(swiper.autoplay.timeout);\n    swiper.autoplay.paused = true;\n    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n      swiper.autoplay.paused = false;\n      swiper.autoplay.run();\n    } else {\n      swiper.$wrapperEl.transitionEnd(() => {\n        if (!swiper || swiper.destroyed) return;\n        swiper.autoplay.paused = false;\n        if (!swiper.autoplay.running) {\n          swiper.autoplay.stop();\n        } else {\n          swiper.autoplay.run();\n        }\n      });\n    }\n  },\n};\n\nvar Autoplay$1 = {\n  name: 'autoplay',\n  params: {\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      autoplay: {\n        running: false,\n        paused: false,\n        run: Autoplay.run.bind(swiper),\n        start: Autoplay.start.bind(swiper),\n        stop: Autoplay.stop.bind(swiper),\n        pause: Autoplay.pause.bind(swiper),\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      if (swiper.params.autoplay.enabled) {\n        swiper.autoplay.start();\n      }\n    },\n    beforeTransitionStart(speed, internal) {\n      const swiper = this;\n      if (swiper.autoplay.running) {\n        if (internal || !swiper.params.autoplay.disableOnInteraction) {\n          swiper.autoplay.pause(speed);\n        } else {\n          swiper.autoplay.stop();\n        }\n      }\n    },\n    sliderFirstMove() {\n      const swiper = this;\n      if (swiper.autoplay.running) {\n        if (swiper.params.autoplay.disableOnInteraction) {\n          swiper.autoplay.stop();\n        } else {\n          swiper.autoplay.pause();\n        }\n      }\n    },\n    destroy() {\n      const swiper = this;\n      if (swiper.autoplay.running) {\n        swiper.autoplay.stop();\n      }\n    },\n  },\n};\n\nconst Fade = {\n  setTranslate() {\n    const swiper = this;\n    const { slides } = swiper;\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = swiper.slides.eq(i);\n      const offset$$1 = $slideEl[0].swiperSlideOffset;\n      let tx = -offset$$1;\n      if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n      let ty = 0;\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n      }\n      const slideOpacity = swiper.params.fadeEffect.crossFade ?\n        Math.max(1 - Math.abs($slideEl[0].progress), 0) :\n        1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n      $slideEl\n        .css({\n          opacity: slideOpacity,\n        })\n        .transform(`translate3d(${tx}px, ${ty}px, 0px)`);\n    }\n  },\n  setTransition(duration) {\n    const swiper = this;\n    const { slides, $wrapperEl } = swiper;\n    slides.transition(duration);\n    if (swiper.params.virtualTranslate && duration !== 0) {\n      let eventTriggered = false;\n      slides.transitionEnd(() => {\n        if (eventTriggered) return;\n        if (!swiper || swiper.destroyed) return;\n        eventTriggered = true;\n        swiper.animating = false;\n        const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n        for (let i = 0; i < triggerEvents.length; i += 1) {\n          $wrapperEl.trigger(triggerEvents[i]);\n        }\n      });\n    }\n  },\n};\n\nvar EffectFade = {\n  name: 'effect-fade',\n  params: {\n    fadeEffect: {\n      crossFade: false,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      fadeEffect: {\n        setTranslate: Fade.setTranslate.bind(swiper),\n        setTransition: Fade.setTransition.bind(swiper),\n      },\n    });\n  },\n  on: {\n    beforeInit() {\n      const swiper = this;\n      if (swiper.params.effect !== 'fade') return;\n      swiper.classNames.push(`${swiper.params.containerModifierClass}fade`);\n      const overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: true,\n      };\n      Utils.extend(swiper.params, overwriteParams);\n      Utils.extend(swiper.originalParams, overwriteParams);\n    },\n    setTranslate() {\n      const swiper = this;\n      if (swiper.params.effect !== 'fade') return;\n      swiper.fadeEffect.setTranslate();\n    },\n    setTransition(duration) {\n      const swiper = this;\n      if (swiper.params.effect !== 'fade') return;\n      swiper.fadeEffect.setTransition(duration);\n    },\n  },\n};\n\nconst Cube = {\n  setTranslate() {\n    const swiper = this;\n    const {\n      $el, $wrapperEl, slides, width: swiperWidth, height: swiperHeight, rtl, size: swiperSize,\n    } = swiper;\n    const params = swiper.params.cubeEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    let wrapperRotate = 0;\n    let $cubeShadowEl;\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $wrapperEl.append($cubeShadowEl);\n        }\n        $cubeShadowEl.css({ height: `${swiperWidth}px` });\n      } else {\n        $cubeShadowEl = $el.find('.swiper-cube-shadow');\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $el.append($cubeShadowEl);\n        }\n      }\n    }\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let slideIndex = i;\n      if (isVirtual) {\n        slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n      }\n      let slideAngle = slideIndex * 90;\n      let round = Math.floor(slideAngle / 360);\n      if (rtl) {\n        slideAngle = -slideAngle;\n        round = Math.floor(-slideAngle / 360);\n      }\n      const progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      let tx = 0;\n      let ty = 0;\n      let tz = 0;\n      if (slideIndex % 4 === 0) {\n        tx = -round * 4 * swiperSize;\n        tz = 0;\n      } else if ((slideIndex - 1) % 4 === 0) {\n        tx = 0;\n        tz = -round * 4 * swiperSize;\n      } else if ((slideIndex - 2) % 4 === 0) {\n        tx = swiperSize + (round * 4 * swiperSize);\n        tz = swiperSize;\n      } else if ((slideIndex - 3) % 4 === 0) {\n        tx = -swiperSize;\n        tz = (3 * swiperSize) + (swiperSize * 4 * round);\n      }\n      if (rtl) {\n        tx = -tx;\n      }\n\n      if (!isHorizontal) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const transform$$1 = `rotateX(${isHorizontal ? 0 : -slideAngle}deg) rotateY(${isHorizontal ? slideAngle : 0}deg) translate3d(${tx}px, ${ty}px, ${tz}px)`;\n      if (progress <= 1 && progress > -1) {\n        wrapperRotate = (slideIndex * 90) + (progress * 90);\n        if (rtl) wrapperRotate = (-slideIndex * 90) - (progress * 90);\n      }\n      $slideEl.transform(transform$$1);\n      if (params.slideShadows) {\n        // Set shadows\n        let shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        let shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n        if (shadowBefore.length === 0) {\n          shadowBefore = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n          $slideEl.append(shadowBefore);\n        }\n        if (shadowAfter.length === 0) {\n          shadowAfter = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n          $slideEl.append(shadowAfter);\n        }\n        if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n        if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n      }\n    }\n    $wrapperEl.css({\n      '-webkit-transform-origin': `50% 50% -${swiperSize / 2}px`,\n      '-moz-transform-origin': `50% 50% -${swiperSize / 2}px`,\n      '-ms-transform-origin': `50% 50% -${swiperSize / 2}px`,\n      'transform-origin': `50% 50% -${swiperSize / 2}px`,\n    });\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl.transform(`translate3d(0px, ${(swiperWidth / 2) + params.shadowOffset}px, ${-swiperWidth / 2}px) rotateX(90deg) rotateZ(0deg) scale(${params.shadowScale})`);\n      } else {\n        const shadowAngle = Math.abs(wrapperRotate) - (Math.floor(Math.abs(wrapperRotate) / 90) * 90);\n        const multiplier = 1.5 - (\n          (Math.sin((shadowAngle * 2 * Math.PI) / 360) / 2) +\n          (Math.cos((shadowAngle * 2 * Math.PI) / 360) / 2)\n        );\n        const scale1 = params.shadowScale;\n        const scale2 = params.shadowScale / multiplier;\n        const offset$$1 = params.shadowOffset;\n        $cubeShadowEl.transform(`scale3d(${scale1}, 1, ${scale2}) translate3d(0px, ${(swiperHeight / 2) + offset$$1}px, ${-swiperHeight / 2 / scale2}px) rotateX(-90deg)`);\n      }\n    }\n    const zFactor = (Browser$1.isSafari || Browser$1.isUiWebView) ? (-swiperSize / 2) : 0;\n    $wrapperEl\n      .transform(`translate3d(0px,0,${zFactor}px) rotateX(${swiper.isHorizontal() ? 0 : wrapperRotate}deg) rotateY(${swiper.isHorizontal() ? -wrapperRotate : 0}deg)`);\n  },\n  setTransition(duration) {\n    const swiper = this;\n    const { $el, slides } = swiper;\n    slides\n      .transition(duration)\n      .find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left')\n      .transition(duration);\n    if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n      $el.find('.swiper-cube-shadow').transition(duration);\n    }\n  },\n};\n\nvar EffectCube = {\n  name: 'effect-cube',\n  params: {\n    cubeEffect: {\n      slideShadows: true,\n      shadow: true,\n      shadowOffset: 20,\n      shadowScale: 0.94,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      cubeEffect: {\n        setTranslate: Cube.setTranslate.bind(swiper),\n        setTransition: Cube.setTransition.bind(swiper),\n      },\n    });\n  },\n  on: {\n    beforeInit() {\n      const swiper = this;\n      if (swiper.params.effect !== 'cube') return;\n      swiper.classNames.push(`${swiper.params.containerModifierClass}cube`);\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n      const overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        resistanceRatio: 0,\n        spaceBetween: 0,\n        centeredSlides: false,\n        virtualTranslate: true,\n      };\n      Utils.extend(swiper.params, overwriteParams);\n      Utils.extend(swiper.originalParams, overwriteParams);\n    },\n    setTranslate() {\n      const swiper = this;\n      if (swiper.params.effect !== 'cube') return;\n      swiper.cubeEffect.setTranslate();\n    },\n    setTransition(duration) {\n      const swiper = this;\n      if (swiper.params.effect !== 'cube') return;\n      swiper.cubeEffect.setTransition(duration);\n    },\n  },\n};\n\nconst Flip = {\n  setTranslate() {\n    const swiper = this;\n    const { slides } = swiper;\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let progress = $slideEl[0].progress;\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      }\n      const offset$$1 = $slideEl[0].swiperSlideOffset;\n      const rotate = -180 * progress;\n      let rotateY = rotate;\n      let rotateX = 0;\n      let tx = -offset$$1;\n      let ty = 0;\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n        rotateX = -rotateY;\n        rotateY = 0;\n      } else if (swiper.rtl) {\n        rotateY = -rotateY;\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n      if (swiper.params.flipEffect.slideShadows) {\n        // Set shadows\n        let shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        let shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n        if (shadowBefore.length === 0) {\n          shadowBefore = $(`<div class=\"swiper-slide-shadow-${swiper.isHorizontal() ? 'left' : 'top'}\"></div>`);\n          $slideEl.append(shadowBefore);\n        }\n        if (shadowAfter.length === 0) {\n          shadowAfter = $(`<div class=\"swiper-slide-shadow-${swiper.isHorizontal() ? 'right' : 'bottom'}\"></div>`);\n          $slideEl.append(shadowAfter);\n        }\n        if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n        if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n      }\n      $slideEl\n        .transform(`translate3d(${tx}px, ${ty}px, 0px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`);\n    }\n  },\n  setTransition(duration) {\n    const swiper = this;\n    const { slides, activeIndex, $wrapperEl } = swiper;\n    slides\n      .transition(duration)\n      .find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left')\n      .transition(duration);\n    if (swiper.params.virtualTranslate && duration !== 0) {\n      let eventTriggered = false;\n      // eslint-disable-next-line\n      slides.eq(activeIndex).transitionEnd(function onTransitionEnd() {\n        if (eventTriggered) return;\n        if (!swiper || swiper.destroyed) return;\n        // if (!$(this).hasClass(swiper.params.slideActiveClass)) return;\n        eventTriggered = true;\n        swiper.animating = false;\n        const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n        for (let i = 0; i < triggerEvents.length; i += 1) {\n          $wrapperEl.trigger(triggerEvents[i]);\n        }\n      });\n    }\n  },\n};\n\nvar EffectFlip = {\n  name: 'effect-flip',\n  params: {\n    flipEffect: {\n      slideShadows: true,\n      limitRotation: true,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      flipEffect: {\n        setTranslate: Flip.setTranslate.bind(swiper),\n        setTransition: Flip.setTransition.bind(swiper),\n      },\n    });\n  },\n  on: {\n    beforeInit() {\n      const swiper = this;\n      if (swiper.params.effect !== 'flip') return;\n      swiper.classNames.push(`${swiper.params.containerModifierClass}flip`);\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n      const overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: true,\n      };\n      Utils.extend(swiper.params, overwriteParams);\n      Utils.extend(swiper.originalParams, overwriteParams);\n    },\n    setTranslate() {\n      const swiper = this;\n      if (swiper.params.effect !== 'flip') return;\n      swiper.flipEffect.setTranslate();\n    },\n    setTransition(duration) {\n      const swiper = this;\n      if (swiper.params.effect !== 'flip') return;\n      swiper.flipEffect.setTransition(duration);\n    },\n  },\n};\n\nconst Coverflow = {\n  setTranslate() {\n    const swiper = this;\n    const {\n      width: swiperWidth, height: swiperHeight, slides, $wrapperEl, slidesSizesGrid,\n    } = swiper;\n    const params = swiper.params.coverflowEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const transform$$1 = swiper.translate;\n    const center = isHorizontal ? -transform$$1 + (swiperWidth / 2) : -transform$$1 + (swiperHeight / 2);\n    const rotate = isHorizontal ? params.rotate : -params.rotate;\n    const translate = params.depth;\n    // Each slide offset from center\n    for (let i = 0, length = slides.length; i < length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideSize = slidesSizesGrid[i];\n      const slideOffset = $slideEl[0].swiperSlideOffset;\n      const offsetMultiplier = ((center - slideOffset - (slideSize / 2)) / slideSize) * params.modifier;\n\n      let rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n      let rotateX = isHorizontal ? 0 : rotate * offsetMultiplier;\n      // var rotateZ = 0\n      let translateZ = -translate * Math.abs(offsetMultiplier);\n\n      let translateY = isHorizontal ? 0 : params.stretch * (offsetMultiplier);\n      let translateX = isHorizontal ? params.stretch * (offsetMultiplier) : 0;\n\n      // Fix for ultra small values\n      if (Math.abs(translateX) < 0.001) translateX = 0;\n      if (Math.abs(translateY) < 0.001) translateY = 0;\n      if (Math.abs(translateZ) < 0.001) translateZ = 0;\n      if (Math.abs(rotateY) < 0.001) rotateY = 0;\n      if (Math.abs(rotateX) < 0.001) rotateX = 0;\n\n      const slideTransform = `translate3d(${translateX}px,${translateY}px,${translateZ}px)  rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n\n      $slideEl.transform(slideTransform);\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        let $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n        if ($shadowBeforeEl.length === 0) {\n          $shadowBeforeEl = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n          $slideEl.append($shadowBeforeEl);\n        }\n        if ($shadowAfterEl.length === 0) {\n          $shadowAfterEl = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n          $slideEl.append($shadowAfterEl);\n        }\n        if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n        if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = (-offsetMultiplier) > 0 ? -offsetMultiplier : 0;\n      }\n    }\n\n    // Set correct perspective for IE10\n    if (Support.pointerEvents || Support.prefixedPointerEvents) {\n      const ws = $wrapperEl[0].style;\n      ws.perspectiveOrigin = `${center}px 50%`;\n    }\n  },\n  setTransition(duration) {\n    const swiper = this;\n    swiper.slides\n      .transition(duration)\n      .find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left')\n      .transition(duration);\n  },\n};\n\nvar EffectCoverflow = {\n  name: 'effect-coverflow',\n  params: {\n    coverflowEffect: {\n      rotate: 50,\n      stretch: 0,\n      depth: 100,\n      modifier: 1,\n      slideShadows: true,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      coverflowEffect: {\n        setTranslate: Coverflow.setTranslate.bind(swiper),\n        setTransition: Coverflow.setTransition.bind(swiper),\n      },\n    });\n  },\n  on: {\n    beforeInit() {\n      const swiper = this;\n      if (swiper.params.effect !== 'coverflow') return;\n\n      swiper.classNames.push(`${swiper.params.containerModifierClass}coverflow`);\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n\n      swiper.params.watchSlidesProgress = true;\n      swiper.originalParams.watchSlidesProgress = true;\n    },\n    setTranslate() {\n      const swiper = this;\n      if (swiper.params.effect !== 'coverflow') return;\n      swiper.coverflowEffect.setTranslate();\n    },\n    setTransition(duration) {\n      const swiper = this;\n      if (swiper.params.effect !== 'coverflow') return;\n      swiper.coverflowEffect.setTransition(duration);\n    },\n  },\n};\n\n// Swiper Class\n// Core Modules\nconst components = [\n  Device$2,\n  Support$2,\n  Browser,\n  Resize,\n  Observer$1,\n  Virtual$1,\n  Keyboard$1,\n  Mousewheel$1,\n  Navigation$1,\n  Pagination$1,\n  Scrollbar$1,\n  Parallax$1,\n  Zoom$1,\n  Lazy$1,\n  Controller$1,\n  A11y,\n  History$1,\n  HashNavigation$1,\n  Autoplay$1,\n  EffectFade,\n  EffectCube,\n  EffectFlip,\n  EffectCoverflow\n];\n\nif (typeof Swiper$1.use === 'undefined') {\n  Swiper$1.use = Swiper$1.Class.use;\n  Swiper$1.installModule = Swiper$1.Class.installModule;\n}\n\nSwiper$1.use(components);\n\nexport default Swiper$1;\n","import Swiper from 'swiper';\n\nlet view = (window || global);\nview.Swiper = view.Swiper || Swiper;\n"]}